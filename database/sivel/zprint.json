{
  "name": "zprint",
  "owner": "sivel",
  "repo": "zprint",
  "description": "Thread-safe print utilities for Zig CLI applications with formatted printing to stdout and stderr",
  "type": "package",
  "topics": [
    "zig-package",
    "zig",
    "ziglang"
  ],
  "stars": 2,
  "forks": 0,
  "watchers": 1,
  "updated_at": "2026-02-09T10:12:38Z",
  "dependencies": [
    {
      "name": "example",
      "url": "https://example.com/foo.tar.gz",
      "hash": "..."
    }
  ],
  "minimum_zig_version": "0.15.1",
  "readme": "# zprint\n\nThread-safe print utilities for Zig CLI applications with formatted printing to stdout and stderr.\n\n## Features\n\n- **Thread-safe**: Uses recursive mutexes for concurrent access\n- **Formatted printing**: Supports all Zig format specifiers\n- **Explicit error handling**: Choose between error-returning and error-ignoring variants\n- **Flexible**: Generic `WriterConfig` allows custom file handles with their own mutexes\n- **Auto-buffering**: Internal buffering with automatic flushing\n- **Cross-platform**: Handles Windows/Unix differences automatically\n\n## Installation\n\nAdd zprint to your project using `zig fetch`:\n\n```bash\nzig fetch --save https://github.com/sivel/zprint/archive/v0.1.0.tar.gz\n```\n\nThen in your `build.zig`, add the dependency:\n\n```zig\nconst zprint = b.dependency(\"zprint\", .{});\nexe.root_module.addImport(\"zprint\", zprint.module(\"zprint\"));\n```\n\n## Usage\n\n### Basic printing\n\n```zig\nconst zprint = @import(\"zprint\");\n\n// Print to stdout with error handling\ntry zprint.stdout(\"Hello {s}! Number: {d}\\n\", .{ \"world\", 42 });\n\n// Print to stderr with error handling\ntry zprint.stderr(\"Error: {s}\\n\", .{\"something went wrong\"});\n```\n\n### Debug printing (ignores errors)\n\n```zig\n// Debug versions that silently ignore errors\nzprint.debug.stdout(\"Debug message to stdout\\n\", .{});\nzprint.debug.stderr(\"Debug message to stderr\\n\", .{});\n```\n\n### Custom writer configurations\n\n```zig\nconst std = @import(\"std\");\nconst zprint = @import(\"zprint\");\n\n// Example: Custom log file writer\nvar log_file = try std.fs.cwd().createFile(\"app.log\", .{});\ndefer log_file.close();\n\nvar log_mutex = std.Thread.Mutex.Recursive.init;\nvar log_buffer: [1024]u8 = undefined;\nvar log_file_writer = log_file.writer(&log_buffer);\n\nconst log_config = zprint.WriterConfig{\n    .mutex = &log_mutex,\n    .writer = &log_file_writer.interface,\n};\n\n// Use the custom config\ntry zprint.print(log_config, \"Log entry: {s}\\n\", .{\"custom message\"});\n```\n\n### Testing with buffer capture\n\n```zig\nconst std = @import(\"std\");\nconst zprint = @import(\"zprint\");\n\n// Capture output to a buffer for testing\nvar output_buffer: [512]u8 = undefined;\nvar test_mutex = std.Thread.Mutex.Recursive.init;\nvar test_writer = std.Io.Writer.fixed(output_buffer[0..]);\n\nconst test_config = zprint.WriterConfig{\n    .mutex = &test_mutex,\n    .writer = &test_writer,\n};\n\ntry zprint.print(test_config, \"Test: {d}\\n\", .{42});\n\n// Verify output\nconst written = output_buffer[0..test_writer.end];\n// written contains: \"Test: 42\\n\"\n```\n\n## API Reference\n\n### Main Functions\n\n- `stdout(fmt, args) !void` - Print to stdout with error handling\n- `stderr(fmt, args) !void` - Print to stderr with error handling\n- `print(config, fmt, args) !void` - Core function using a WriterConfig (thread-safe, with flushing)\n\n### Debug Functions (error-ignoring)\n\n- `debug.stdout(fmt, args) void` - Print to stdout, ignore errors\n- `debug.stderr(fmt, args) void` - Print to stderr, ignore errors\n\n### Types\n\n- `WriterConfig` - Configuration struct containing:\n  - `mutex: *std.Thread.Mutex.Recursive` - Mutex for thread safety\n  - `writer: *std.Io.Writer` - The writer interface to use\n\n## Why zprint?\n\nZig's standard library provides `std.debug.print` for debugging (stderr only) but lacks a higher level stdout printing solution for CLI applications. zprint fills this gap by providing:\n\n1. **Proper stdout support** - Unlike `std.debug.print` which only goes to stderr\n2. **Thread safety** - Safe for concurrent use across threads\n3. **Error handling** - Choose explicit error handling or error-ignoring variants\n4. **Flexibility** - Works with any writer, not just stdout/stderr\n\n## License\n\nMIT License - see LICENSE file for details.",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/39340?v=4",
  "releases": [],
  "owner_bio": "Ansible Core Engineering Architect and Technical Team Lead",
  "owner_company": "@ansible @RedHatOfficial",
  "owner_location": "San Antonio, TX",
  "owner_blog": "http://sivel.net/",
  "owner_twitter_username": null,
  "owner_followers": 744,
  "owner_following": 1,
  "owner_created_at": "2008-12-09T14:53:12Z",
  "category": "library"
}