{
  "name": "zig-gitweb",
  "owner": "mrjbq7",
  "repo": "zig-gitweb",
  "description": "Git repository web interface",
  "type": "package",
  "topics": [
    "git",
    "gitweb",
    "zig",
    "zig-package"
  ],
  "stars": 2,
  "forks": 0,
  "watchers": 0,
  "updated_at": "2025-11-06T07:55:20Z",
  "minimum_zig_version": "0.15.1",
  "readme": "# zig-gitweb\n\nA fast web frontend for git repositories, implemented in Zig. This is\nimplemented as a lightweight CGI application for browsing git repositories\nthrough a web interface.\n\n## Features\n\n- üìä Repository summary with recent commits, branches, and tags\n- üìú Commit log with pagination\n- üå≥ Tree/file browser with syntax highlighting\n- üîç Commit diff viewer\n- üì¶ Snapshot downloads (tar.gz, zip)\n- üè∑Ô∏è Tag and branch browsing\n- ‚ö° Fast and lightweight CGI application\n- üîß Written in Zig for performance and safety\n\n## Requirements\n\n- Zig 0.15.1 or later\n- libgit2\n- zlib\n\n## Installation\n\n### macOS (Homebrew)\n\n```bash\nbrew install libgit2\n```\n\n### Linux (Debian/Ubuntu)\n\n```bash\nsudo apt-get install libgit2-dev zlib1g-dev\n```\n\n### Build from Source\n\n```bash\ngit clone https://github.com/mrjbq7/zig-gitweb.git\ncd zig-gitweb\nzig build\n```\n\nThis will create `gitweb.cgi` in `zig-out/bin/`.\n\n## Usage\n\n### As a CGI Application\n\nConfigure your web server to execute `gitweb.cgi` as a CGI script. The\napplication reads repository locations from a configuration file.\n\n#### Apache Configuration Example\n\n```apache\nScriptAlias /git \"/path/to/gitweb.cgi\"\n<Directory \"/path/to\">\n    Options ExecCGI\n    AddHandler cgi-script .cgi\n    Require all granted\n</Directory>\n```\n\n#### Nginx Configuration Example (with fcgiwrap)\n\n```nginx\nserver {\n    listen 80;\n    server_name zig-gitweb;\n    root /zig-gitweb;\n\n    # Index redirects to cgi\n    location = / { rewrite ^ /cgi-bin/gitweb.cgi last; }\n\n    # Try and load static files\n    location / { try_files $uri $uri/ @gitweb; }\n\n    # Otherwise forward to the cgi\n    location @gitweb { rewrite ^ /cgi-bin/gitweb.cgi?url=$uri&$args last; }\n\n    # Allow only *.cgi to execute\n    location ~ ^/cgi-bin/(.+\\.cgi)$ {\n        include fastcgi_params;\n        fastcgi_param SCRIPT_FILENAME $document_root/cgi-bin/$1;\n        fastcgi_param SCRIPT_NAME     /cgi-bin/$1;\n        fastcgi_param PATH_INFO       \"\";\n        fastcgi_pass unix:/run/fcgiwrap.socket;\n    }\n\n    # Everything else under /cgi-bin is blocked (prefix location has lower prio than regex)\n    location /cgi-bin/ { return 404; }\n}\n```\n\n#### Factor Configuration Example\n\nYou can use [Factor](https://factorcode.org) to serve this also:\n\n```factor\nTUPLE: zig-gitweb < file-responder ;\n\n: <zig-gitweb> ( root -- responder )\n    zig-gitweb new\n        swap >>root\n        [ (serve-static) ] >>hook\n        H{ } clone >>special\n    enable-cgi ;\n\nM: zig-gitweb call-responder*\n    dup file-responder set\n    over [ f ] [ \"/\" join serving-path file-exists? ] if-empty [\n        url get\n            rot \"/\" join \"url\" set-query-param\n            \"gitweb.cgi\" >>path drop { \"gitweb.cgi\" } swap\n    ] unless call-next-method ;\n```\n\n### Testing Locally\n\n```bash\n# Create a test repository\nmkdir -p /tmp/git\ngit init --bare /tmp/git/myproject.git\n\n# Create a minimal configuration\necho \"scan-path=/tmp/git\" > /tmp/gitweb.conf\n\n# Test the CGI directly\nGITWEB_CONFIG=/tmp/gitweb.conf QUERY_STRING=\"r=myproject\" REQUEST_METHOD=GET ./zig-out/bin/gitweb.cgi\n```\n\n### URL Parameters\n\n- `r` - Repository name (e.g., `?r=myproject`)\n- `cmd` - Command/page to display:\n  - `summary` - Repository overview (default)\n  - `log` - Commit history\n  - `tree` - File browser\n  - `commit` - Commit details\n  - `diff` - Commit differences\n  - `refs` - Branches and tags\n  - `snapshot` - Download archive\n- `id` - Commit/tree/tag ID\n- `path` - File or directory path\n- `h` - Branch/tag reference\n\n### Example URLs\n\n- `/git?r=myproject` - Repository summary\n- `/git?r=myproject&cmd=log` - Commit log\n- `/git?r=myproject&cmd=tree` - Browse files\n- `/git?r=myproject&cmd=commit&id=abc123` - View specific commit\n- `/git?r=myproject&cmd=snapshot&h=main&fmt=tar.gz` - Download tarball\n\n## Configuration\n\n### Configuration File\n\nzig-gitweb uses a configuration file (gitweb.conf) to specify repository locations and settings.\nThe configuration file is read from:\n1. The path specified in the `GITWEB_CONFIG` environment variable\n2. `/etc/gitweb.conf` (default location)\n\nSee `gitweb.conf.example` for a complete example configuration.\n\n### Repository Setup\n\nThere are several ways to configure repositories:\n\n#### 1. Automatic scanning with scan-path\n\n```ini\n# In gitweb.conf:\nscan-path=/srv/git\n```\n\nAll bare git repositories under `/srv/git` will be automatically discovered.\n\n#### 2. Manual repository configuration\n\n```ini\n# In gitweb.conf:\nrepo.url=myproject\nrepo.path=/path/to/myproject.git\nrepo.desc=My Project Description\nrepo.owner=John Doe\n```\n\n#### 3. Project list file\n\n```ini\n# In gitweb.conf:\nproject-list=/etc/gitweb-projects.txt\n```\n\nWhere the project list file contains repository paths, one per line.\n\n### Example: Setting up repositories\n\n```bash\n# Create a directory for git repositories\nsudo mkdir -p /srv/git\nsudo chown $USER:$USER /srv/git\n\n# Create a bare repository\ngit init --bare /srv/git/myproject.git\n\n# Push an existing project\ncd /path/to/existing/project\ngit remote add web /srv/git/myproject.git\ngit push web main\n\n# Configure gitweb.conf\nsudo tee /etc/gitweb.conf <<EOF\nscan-path=/srv/git\nroot-title=My Git Repositories\nroot-desc=Source code repository browser\nEOF\n```\n\n### Customization\n\nStatic files are located in the `static/` directory:\n- `gitweb.css` - Stylesheet customization\n- `gitweb.js` - JavaScript enhancements\n\n## Development\n\n### Building\n\n```bash\nzig build                 # Build the project\nzig build test            # Run tests\nzig build --release=fast  # Build optimized version\n```\n\n### Project Structure\n\n```\nzig-gitweb/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ main.zig       # CGI entry point\n‚îÇ   ‚îú‚îÄ‚îÄ gitweb.zig     # Core types and configuration\n‚îÇ   ‚îú‚îÄ‚îÄ git.zig        # libgit2 wrapper\n‚îÇ   ‚îú‚îÄ‚îÄ cmd.zig        # Command dispatcher\n‚îÇ   ‚îú‚îÄ‚îÄ html.zig       # HTML generation utilities\n‚îÇ   ‚îî‚îÄ‚îÄ ui/            # UI handlers for each command\n‚îÇ       ‚îú‚îÄ‚îÄ log.zig\n‚îÇ       ‚îú‚îÄ‚îÄ commit.zig\n‚îÇ       ‚îú‚îÄ‚îÄ tree.zig\n‚îÇ       ‚îî‚îÄ‚îÄ ...\n‚îú‚îÄ‚îÄ static/            # CSS, JS, and other static files\n‚îú‚îÄ‚îÄ build.zig          # Build configuration\n‚îî‚îÄ‚îÄ build.zig.zon      # Package manifest\n```\n\n## Contributing\n\nContributions are welcome! Please feel free to submit issues and pull requests.\n\n## Acknowledgments\n\nThis project is inspired by [cgit](https://git.zx2c4.com/cgit/), but freshly\nimplemented in [Zig](https://ziglang.org). It currently uses\n[libgit2](https://libgit2.org/) for git repository access, and\n[zlib](https://zlib.net/) for compression.\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/24195?v=4",
  "releases": [],
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 515,
  "owner_following": 182,
  "owner_created_at": "2008-09-11T17:52:32Z",
  "category": "library"
}