{
  "name": "zouter",
  "owner": "zigzedd",
  "repo": "zouter",
  "description": "[MIRROR] Zig HTTP router library.",
  "type": "project",
  "topics": [
    "zig",
    "zig-library",
    "zig-package",
    "zap",
    "router",
    "routing-engine",
    "routing"
  ],
  "stars": 1,
  "forks": 0,
  "watchers": 1,
  "updated_at": "2025-04-12T10:35:18Z",
  "dependencies": [
    {
      "name": "zap",
      "url": "git+https://github.com/zigzap/zap?ref=v0.10.1#8d187310c7ee4f86faa7ef0ecdac0bf747216dea",
      "hash": "zap-0.9.1-GoeB84M8JACjZKDNq2LA5hB24Z-ZrZ_HUKRXd8qxL2JW"
    }
  ],
  "minimum_zig_version": "0.14.0",
  "readme": "<p align=\"center\">\n\t<a href=\"https://code.zeptotech.net/zedd/zouter\">\n\t\t<picture>\n\t\t\t<img alt=\"Zouter logo\" width=\"150\" src=\"https://code.zeptotech.net/zedd/zouter/raw/branch/main/logo.svg\" />\n\t\t</picture>\n\t</a>\n</p>\n\n<h1 align=\"center\">\n\tZouter\n</h1>\n\n<h4 align=\"center\">\n\t<a href=\"https://code.zeptotech.net/zedd/zouter\">Documentation</a>\n|\n\t<a href=\"https://zedd.zeptotech.net/zouter/api\">API</a>\n</h4>\n\n<p align=\"center\">\n\tZig HTTP router library\n</p>\n\nZouter is part of [_zedd_](https://code.zeptotech.net/zedd), a collection of useful libraries for zig.\n\n## Zouter for zap\n\n_Zouter_ is an HTTP router library for Zig **zap** HTTP server. It's made to ease the use of **zap** to build REST APIs.\n\n## Versions\n\nZouter 0.2.0 is made for zig 0.14.0 and tested with zap 0.10.1.\n\n## How to use\n\n### Install\n\nIn your project directory:\n\n```shell\n$ zig fetch --save https://code.zeptotech.net/zedd/zouter/archive/v0.2.0.tar.gz\n```\n\nIn `build.zig`:\n\n```zig\n// Add zouter dependency.\nconst zouter = b.dependency(\"zouter\", .{\n\t.target = target,\n\t.optimize = optimize,\n});\nexe.root_module.addImport(\"zouter\", zouter.module(\"zouter\"));\n```\n\n### Example\n\nHere is a quick example of how to set up a router. It is an extract from the full test code at [`example.zig`](https://code.zeptotech.net/zedd/zouter/src/branch/main/tests/example.zig). You may want to have a look to [`simple_routes.zig`](https://code.zeptotech.net/zedd/zouter/src/branch/main/tests/simple_routes.zig) which shows more advanced features.\n\n```zig\n/// GET /foo/:arg/bar request handler.\nfn get(route: zouter.MatchedRoute, request: zap.Request) !void {\n\tvar bodyBuffer: [512]u8 = undefined;\n\tconst body = try std.fmt.bufPrint(&bodyBuffer, \"get: {s}\", .{route.params.get(\"arg\").?});\n\ttry request.sendBody(body);\n}\n\n/// POST /foo/:arg/bar request handler.\nfn post(route: zouter.MatchedRoute, request: zap.Request) !void {\n\tvar bodyBuffer: [512]u8 = undefined;\n\tconst body = try std.fmt.bufPrint(&bodyBuffer, \"post: {s}\", .{route.params.get(\"arg\").?});\n\ttry request.sendBody(body);\n}\n\n/// Setup an example router.\nfn setupExampleRouter(allocator: std.mem.Allocator) !zouter.Router {\n\t// Initialize an example router.\n\tvar exampleRouter = try zouter.Router.init(allocator, .{});\n\n\t// Add a route to the example router.\n\ttry exampleRouter.route(.{\n\t\t.path = \"foo\",\n\t\t.children = &[_]zouter.RouteDefinition{\n\t\t\t.{\n\t\t\t\t.path = \":arg\",\n\t\t\t\t.children = &[_]zouter.RouteDefinition{\n\t\t\t\t\t.{\n\t\t\t\t\t\t.path = \"bar\",\n\t\t\t\t\t\t.handle = .{\n\t\t\t\t\t\t\t.get = &get,\n\t\t\t\t\t\t\t.post = &post,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t});\n\n\treturn exampleRouter;\n}\n```\n\n### Route definition\n\nA route only has one mandatory field: its path. If any part of a path starts with a `':'`, the value is taken as a dynamic variable, retrievable later with `Route.params` `HashMap`.\n\nA route can have:\n\n- **Children**: sub-routes definitions, with a `'/'` between the parent and the child. It's useful to prefix a list of routes with the same path / variable.\n- **Handle object**: you can define a handle function for each HTTP basic request method. If you don't care about the request method, there is an `any` field which will be used for all undefined request methods.\n- **Handle not found / error**: you can define a custom functions to handle errors or not found pages inside this path.\n- **Pre-handle / post-handle**: these functions are started before and after the request handling in this path. It looks like middlewares and can assume the same role as most of them (e.g. a pre-handle function to check for authentication under a specific path).\n\nFull details about route definition fields can be found in the [API reference](https://zedd.zeptotech.net/zouter/api).\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/184568612?v=4",
  "releases": [],
  "owner_bio": "Zig libraries.",
  "owner_location": null,
  "owner_blog": "https://code.zeptotech.net/zedd",
  "owner_twitter_username": null,
  "owner_created_at": "2024-10-10T22:10:33Z",
  "homepage": "https://code.zeptotech.net/zedd/zouter",
  "license": "MIT",
  "category": "library"
}