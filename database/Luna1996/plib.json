{
  "name": "plib",
  "owner": "Luna1996",
  "repo": "plib",
  "description": "collection of multiple modules, which includes a parser generator and parsers generated by it.",
  "type": "package",
  "topics": [
    "abnf",
    "abnf-language",
    "abstract-syntax-tree",
    "ast",
    "parser",
    "parser-generator",
    "toml",
    "toml-language",
    "toml-parser",
    "zig"
  ],
  "stars": 6,
  "forks": 0,
  "watchers": 1,
  "updated_at": "2025-04-25T12:13:15Z",
  "readme": "# PLib\n`plib` (short for parser library) is a collection of multiple modules, which includes a parser generator and parsers generated by it.\n\n`plib` takes a pre-generated [`ABNF`][1] structure as input to produce a `parser`.\\\n`parser` will take raw text as input to generate the [`AST`][2] of it.\n\n> [!NOTE]\n> Contribution is much welcomed, but beware that currently this is just a personal project for fun.\n\n> [!WARNING]\n> Lack of comments and documents. You need to dig into the bare code to use and knew the logic behind the library.\n\n## Modules\n- [`plib`][3]\\\n  core module, parser generator\n- [`abnf`][4]\\\n  abnf file parser/serializer, `ABNF` structure generator, generate itself\n- [`toml`][5]\\\n  toml file parser/serializer, follow toml v1.0.0, passed all [`toml-test`][7] tests\n\n## How To\n\n### Generate ABNF\nUse following command to generate the `ABNF` structure that defines ABNF syntax.\n```\nzig build -Dstep=gen_abnf -Dname=file_name\n```\nThis command runs [`gen_abnf.zig`][6], takes `src/raw/<file_name>.abnf` and outputs `src/gen/<file_name>.zig`.\n\n### Test Module\nUse following command to test <mod_name> module.\n```\nzig build -Dstep=test -Dname=mod_name\n```\n\n### toml-test\nTo test the `toml` module against [`toml-test`][7], first make sure `toml-test` is on your PATH, then\n```\nzig build -Dstep=toml_test\n```\nCurrently all tests is passed.\n```\ntoml-test v2024-05-31 [C:\\repo\\repo.zig\\plib\\zig-out\\bin\\toml_encoder.exe]: using embedded tests\nencoder tests: 182 passed,  0 failed\ntoml-test v2024-05-31 [C:\\repo\\repo.zig\\plib\\zig-out\\bin\\toml_decoder.exe]: using embedded tests\n  valid tests: 182 passed,  0 failed\ninvalid tests: 371 passed,  0 failed\n```\n\n### Add New Parser\nSuppose you want to add a json parser (maybe not since it's included in std lib). You should:\n1. Add `src/raw/json.abnf`, which contains json's abnf definition.\n2. Run `zig build -Dstep=gen_abnf -Dname=json` to generate `src/gen/json.zig`.\n3. Modify `zig.build` (and `zig.build.zong` if so desired) to build a `json` module.\n4. Add `src/mod/json/root.zig`, which is the root source file of `json` module. See [`src/mod/toml/root.zig`](src/mod/toml/root.zig) for example.\n5. If you are using vscode, you might also want to modify `.vscode/tasks.json`.\n\n### Use As Dependency\nIn your `build.zig.zon` add:\n```zig\n  .dependencies = .{\n    .plib = .{\n      .url = \"https://github.com/Luna1996/abnf/archive/main.tar.gz\",\n    },\n  },\n```\nIn your `build.zig` add:\n```zig\nconst plib_dep = b.dependency(\"plib\", .{.toml = true});\nconst plib_mod = plib_dep.module(\"plib\");\nconst toml_mod = plib_dep.module(\"toml\");\nmain_mod.addImport(\"plib\", plib);\nmain_mod.addImport(\"plib\", toml);\n```\nIn your project add:\n```zig\nconst plib = @import(\"plib\");\nconst toml = @import(\"toml\");\n```\n\n[1]: https://en.wikipedia.org/wiki/Augmented_Backus%E2%80%93Naur_form\n[2]: https://en.wikipedia.org/wiki/Abstract_syntax_tree\n[3]: https://github.com/Luna1996/abnf/tree/main/src/lib\n[4]: https://github.com/Luna1996/abnf/tree/main/src/mod/abnf\n[5]: https://github.com/Luna1996/abnf/tree/main/src/mod/toml\n[6]: https://github.com/Luna1996/abnf/tree/main/src/exe/gen_abnf.zig\n[7]: https://github.com/toml-lang/toml-test",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/23733070?u=c5f52cf88c2d5c0f209c145f0c75b7790ec88b2b&v=4",
  "releases": [],
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 5,
  "owner_following": 3,
  "owner_created_at": "2016-11-25T04:43:52Z",
  "category": "parser"
}