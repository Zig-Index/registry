{
  "name": "zigbeam",
  "owner": "eakova",
  "repo": "zigbeam",
  "description": "ZigBeam: Reusable building blocks for high-performance concurrency and parallel computing",
  "type": "package",
  "topics": [
    "zig-package",
    "deque",
    "mcmp",
    "automatic-reference-counting",
    "chase-lev",
    "ebr",
    "epoch-based-reclamation",
    "multithreading",
    "parallel-computing",
    "parallel-processing"
  ],
  "stars": 6,
  "forks": 0,
  "watchers": 0,
  "updated_at": "2025-12-07T21:48:28Z",
  "dependencies": [
    {
      "name": "example",
      "url": "https://example.com/foo.tar.gz",
      "hash": "..."
    }
  ],
  "minimum_zig_version": "0.15.2",
  "readme": "# ZigBeam: Reusable building blocks for concurrent programming\n\n![Zig 0.13.0+](https://img.shields.io/badge/Zig-0.13.0+-blue)\n![License](https://img.shields.io/badge/license-MIT_OR_Apache--2.0-blue.svg)\n\n\nThis repository hosts multiple Zig libraries under one roof. Each library can be used on its own or together via a common wrapper. The workspace is designed to be practical: every library ships with small samples, focused tests, and repeatable benchmarks.\n\n---\n\n## Libraries\n\n### Parallelism\n\n#### Loom\n- High-performance work-stealing thread pool with structured concurrency\n- Rayon-like parallel iterators (`par_iter`, `par_range`), fork-join (`join`, `scope`)\n- **Performance**: forEach ~2-3ns, reduce ~2ns, map ~0.6ns, count ~0.3ns per element\n- Import: `@import(\"zigbeam\").Loom`\n- Samples: `zig build samples-loom`\n- Source: [src/loom/loom.zig](src/loom/loom.zig)\n- Tests: `zig build test-loom`\n- Docs: [src/loom/README.md](src/loom/README.md)\n- FAQ: [src/loom/docs/FAQ.md](src/loom/docs/FAQ.md)\n\n---\n\n### Concurrent Data Structures\n\n#### Deque\n- Bounded work-stealing deque for building task schedulers and thread pools\n- **Performance**: Owner push ~2-5ns, Owner pop ~3-10ns, Steal ~20-50ns\n- Import: `@import(\"zigbeam\").Libs.Deque`\n- Source: [src/libs/deque/deque.zig](src/libs/deque/deque.zig)\n- Tests: `zig build test-deque`\n- Benchmarks: `zig build bench-deque`\n- Docs: [src/libs/deque/README.md](src/libs/deque/README.md)\n\n#### DequeChannel\n- MPMC work-stealing channel with automatic load balancing\n- **Performance**: Send fast path ~5-15ns, Recv ~5-80ns depending on source\n- Import: `@import(\"zigbeam\").Libs.DequeChannel`\n- Source: [src/libs/deque/deque_channel.zig](src/libs/deque/deque_channel.zig)\n- Tests: `zig build test-deque-channel`\n- Benchmarks: `zig build bench-deque-channel`\n\n#### DVyukov MPMC Queue\n- Lock-free bounded Multi-Producer Multi-Consumer queue (Dmitry Vyukov's algorithm)\n- **Performance**: 20-100 Mops/s under high contention\n- Import: `@import(\"zigbeam\").Libs.DVyukovMPMCQueue`\n- Samples: `zig build samples-dvyukov`\n- Source: [src/libs/dvyukov-mpmc/dvyukov_mpmc_queue.zig](src/libs/dvyukov-mpmc/dvyukov_mpmc_queue.zig)\n- Tests: `zig build test-dvyukov`\n\n#### Sharded DVyukov MPMC Queue\n- High-performance variant distributing contention across multiple independent queues\n- **Performance**: 100-133 Mops/s (2.5-6x faster than non-sharded under high contention)\n- **Use when**: 4+ producers AND 4+ consumers with balanced workload\n- Import: `@import(\"zigbeam\").Libs.ShardedDVyukovMPMCQueue`\n- Source: [src/libs/dvyukov-mpmc/sharded_dvyukov_mpmc_queue.zig](src/libs/dvyukov-mpmc/sharded_dvyukov_mpmc_queue.zig)\n\n#### SegmentedQueue\n- Unbounded MPMC queue with dynamic growth using segmented memory\n- Import: `@import(\"zigbeam\").Libs.SegmentedQueue`\n- Source: [src/libs/segmented-queue/segmented_queue.zig](src/libs/segmented-queue/segmented_queue.zig)\n- Tests: `zig build test-segmented-queue`\n\n---\n\n### Memory Management\n\n#### Arc\n- Atomic smart pointer with Small Value Optimization (SVO) and weak references\n- Import: `@import(\"zigbeam\").Libs.Arc`\n- Samples: `zig build samples-arc`\n- Source: [src/libs/arc/arc.zig](src/libs/arc/arc.zig)\n- Tests: `zig build test-arc`\n\n#### Arc Pool\n- Reuse `Arc(T).Inner` allocations; fronted by ThreadLocalCache and global Treiber stack\n- Import: `@import(\"zigbeam\").Libs.ArcPool`\n- Source: [src/libs/arc/arc-pool/arc_pool.zig](src/libs/arc/arc-pool/arc_pool.zig)\n- Tests: `zig build test-arc-pool`\n\n#### Cycle Detector\n- Debug utility to find unreachable Arc cycles using a user-provided trace function\n- Import: `@import(\"zigbeam\").Libs.ArcCycleDetector`\n- Source: [src/libs/arc/cycle-detector/arc_cycle_detector.zig](src/libs/arc/cycle-detector/arc_cycle_detector.zig)\n- Tests: `zig build test-arc-cycle`\n\n#### Thread-Local Cache\n- Per-thread, lock-free L1 pool to reduce allocator pressure and contention\n- Import: `@import(\"zigbeam\").Libs.ThreadLocalCache`\n- Samples: `zig build samples-tlc`\n- Source: [src/libs/thread-local-cache/thread_local_cache.zig](src/libs/thread-local-cache/thread_local_cache.zig)\n- Tests: `zig build test-tlc`\n\n#### EBR (Epoch-Based Reclamation)\n- Lock-free memory reclamation for concurrent data structures\n- Import: primarily used by `SegmentedQueue` as its EBR engine\n- Samples: `zig build samples-ebr`\n- Source: [src/libs/ebr/ebr.zig](src/libs/ebr/ebr.zig)\n- Docs: [src/libs/ebr/README.md](src/libs/ebr/README.md)\n\n---\n\n### Threading\n\n#### Task\n- Cancellable OS-thread task abstraction (inspired by C#'s CancellationToken)\n- Import: `@import(\"zigbeam\").Libs.Task`\n- Source: [src/libs/task/task.zig](src/libs/task/task.zig)\n- Tests: `zig build test-task`\n- Docs: [src/libs/task/README.md](src/libs/task/README.md)\n\n---\n\n### Core Primitives\n\n#### Backoff\n- Exponential/spin/snooze backoff helper for contention control and polling loops\n- Source: [src/libs/backoff/backoff.zig](src/libs/backoff/backoff.zig)\n- Samples: [src/libs/backoff/samples/_backoff_samples.zig](src/libs/backoff/samples/_backoff_samples.zig)\n\n#### CachePadded\n- Cache-line aware padding helpers for isolating hot fields and atomics\n- Source: [src/libs/cache-padded/cache_padded.zig](src/libs/cache-padded/cache_padded.zig)\n- Docs: [src/libs/cache-padded/docs/CACHE_PADDED_IMPLEMENTATION.md](src/libs/cache-padded/docs/CACHE_PADDED_IMPLEMENTATION.md)\n\n#### Tagged Pointer\n- Pack a small tag into a pointer's low bits (common for lightweight flags)\n- Import: `@import(\"zigbeam\").Libs.TaggedPointer`\n- Samples: `zig build samples-tagged`\n- Source: [src/libs/tagged-pointer/tagged_pointer.zig](src/libs/tagged-pointer/tagged_pointer.zig)\n- Tests: `zig build test-tagged`\n\n---\n\n## Quick Start\n\n### Installation\n\nAdd to your `build.zig.zon`:\n\n```zig\n.dependencies = .{\n    .zigbeam = .{\n        .url = \"https://github.com/eakova/zigbeam/archive/refs/heads/main.tar.gz\",\n        .hash = \"<run: zig fetch <url> --save>\",\n    },\n},\n```\n\nWire in `build.zig`:\n\n```zig\nconst dep = b.dependency(\"zigbeam\", .{ .target = target, .optimize = optimize });\nexe.root_module.addImport(\"zigbeam\", dep.module(\"zigbeam\"));\n```\n\n### Usage\n\n```zig\nconst beam = @import(\"zigbeam\");\nconst Loom = beam.Loom;\n\n// Parallel iteration with Loom\nLoom.par_iter(data).for_each(process);\nconst sum = Loom.par_iter(data).reduce(Loom.Reducer(i64).sum());\n\n// Fork-join parallelism\nconst left, const right = Loom.join(taskA, .{}, taskB, .{});\n\n// Concurrent data structures\nconst Deque = beam.Libs.Deque;\nconst DVyukovMPMCQueue = beam.Libs.DVyukovMPMCQueue;\n\n// Memory management\nconst Arc = beam.Libs.Arc;\nvar arc = try Arc(u64).init(allocator, 42);\ndefer arc.release();\n\n// Threading\nconst Task = beam.Libs.Task;\n```\n\n---\n\n## Requirements\n\n- **Zig**: 0.13.0 or later\n- **OS**: macOS, Linux, Windows\n- **Dependencies**: Standard library only (`std.Thread`, `std.atomic`, `std.time`)\n\n---\n\n## Layout\n\n```\nsrc/libs/\n+-- loom/              # Parallelism (thread pool, parallel iterators)\n+-- deque/             # Work-stealing deque and channel\n+-- dvyukov-mpmc/      # Lock-free MPMC queues\n+-- segmented-queue/   # Unbounded MPMC queue\n+-- arc/               # Atomic reference counting + pool + cycle detector\n+-- thread-local-cache/# Per-thread L1 cache\n+-- ebr/               # Epoch-based reclamation\n+-- task/              # Cancellable threads\n+-- backoff/           # Contention backoff\n+-- cache-padded/      # Cache-line padding\n+-- tagged-pointer/    # Bit-packed pointers\n```\n\n---\n\n## Benchmarks\n\n| Library | Metric | Performance |\n|---------|--------|-------------|\n| Loom | forEach per element | ~2-3ns |\n| Loom | reduce per element | ~2ns |\n| Loom | map per element | ~0.6ns |\n| Loom | count per element | ~0.3ns |\n| DVyukov MPMC | High contention | 20-100 Mops/s |\n| Sharded DVyukov | High contention | 100-133 Mops/s |\n| Deque | Owner push | ~2-5ns |\n| Deque | Steal | ~20-50ns |\n| DequeChannel | Send fast path | ~5-15ns |\n\nDetailed reports:\n- [Loom](src/loom/README.md)\n- [Arc](src/libs/arc/benchmarks/ARC_BENCHMARK_RESULTS.md)\n- [DVyukov MPMC](src/libs/dvyukov-mpmc/benchmarks/DVYUKOV_MPMC_BENCHMARK_RESULTS.md)\n- [Thread-Local Cache](src/libs/thread-local-cache/benchmarks/TLC_BENCHMARK_RESULTS.md)\n\n---\n\n## Contributing\n\nContributions are welcome in the form of issues, PRs, and feedback. Please include:\n- Zig version\n- OS/arch\n- Exact build command\n- A minimal snippet or path to a failing sample/test\n\nFile issues: https://github.com/eakova/zigbeam/issues/new\n\n---\n\n## License\n\nLicensed under either of:\n\n- Apache License, Version 2.0 ([LICENSE-APACHE](LICENSE-APACHE) or http://www.apache.org/licenses/LICENSE-2.0)\n- MIT license ([LICENSE-MIT](LICENSE-MIT) or http://opensource.org/licenses/MIT)\n\nat your option.\n\n### Contribution\n\nUnless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/1556416?u=43ad962cce6b8ae1fee0d6dd1bf9c2c0b888a637&v=4",
  "releases": [
    {
      "tag_name": "v1.0.1",
      "name": "v1.0.1",
      "body": "# Loom is a data-parallelism framework for Zig. \r\nIt is lightweight and makes it easy to convert sequential loops into parallel pipelines. Its structured APIs and lock-free internals encourage race-free patterns by design.\r\n\r\n**Loom** is a high-performance work-stealing thread pool with Rayon-style parallel iterators for Zig.\r\n## Feature-focused:\r\nTransform sequential loops into parallel pipelines with zero boilerplate—just `.map(), .filter(), .reduce()`.\r\n## Performance-focused:\r\nAchieve multi-core throughput with automatic work distribution, lock-free deques, and cache-optimized scheduling.\r\n## Developer-focused:\r\nWrite `par_iter(data).map(transform).reduce(combine)` and let Loom handle thread management, load balancing, and work stealing.\r\n## Complete pitch:\r\nLoom brings Rayon-style ergonomics to Zig: a work-stealing thread pool, composable parallel iterators, and automatic chunking—turning for loops into multi-core pipelines with a single import\r\n",
      "prerelease": false,
      "published_at": "2025-12-07T19:52:01Z",
      "html_url": "https://github.com/eakova/zigbeam/releases/tag/v1.0.1",
      "assets": []
    },
    {
      "tag_name": "v0.1.5",
      "name": "v0.1.5",
      "body": "# Zig‑Beam v0.1.5\r\n\r\nDate: 2025-11-22\r\n\r\nThis is a draft release generated from tag v0.1.5.\r\n\r\n## Quick Start (pin by tag)\r\n\r\n\r\nIn build.zig:\r\n\r\n\r\nIn code:\r\n\r\n",
      "prerelease": false,
      "published_at": "2025-11-22T14:08:47Z",
      "html_url": "https://github.com/eakova/zigbeam/releases/tag/v0.1.5",
      "assets": []
    },
    {
      "tag_name": "v0.1.0",
      "name": "v0.1.0",
      "body": "# Zig‑Beam v0.1.0\r\n\r\nDate: 2025-11-21\r\n\r\nThis is a draft release generated from tag v0.1.0.\r\n\r\n## Quick Start (pin by tag)\r\n\r\n\r\nIn build.zig:\r\n\r\n\r\nIn code:\r\n\r\n",
      "prerelease": false,
      "published_at": "2025-11-21T22:25:10Z",
      "html_url": "https://github.com/eakova/zigbeam/releases/tag/v0.1.0",
      "assets": [
        {
          "name": "README.md",
          "url": "https://github.com/eakova/zigbeam/releases/download/v0.1.0/README.md",
          "size": 4627,
          "content_type": "text/markdown"
        }
      ]
    },
    {
      "tag_name": "v0.1.0-rc3",
      "name": "v0.1.0-rc3",
      "body": "# Zig‑Beam v0.1.0-rc3\r\n\r\nDate: 2025-11-12\r\n\r\nThis is a draft release generated from tag v0.1.0-rc3.\r\n\r\n## Reports\r\n- Arc benchmarks: docs/utils/arc_benchmark_results.md\r\n- Thread‑Local Cache benchmarks: docs/utils/thread_local_cache_benchmark_results.md\r\n- Dependency graph: docs/utils/dependency_graph.md\r\n\r\n## Quick Start (pin by tag)\r\n\r\n\r\nIn build.zig:\r\n\r\n\r\nIn code:\r\n\r\n",
      "prerelease": true,
      "published_at": "2025-11-12T23:58:51Z",
      "html_url": "https://github.com/eakova/zigbeam/releases/tag/v0.1.0-rc3",
      "assets": [
        {
          "name": "arc_benchmark_results.md",
          "url": "https://github.com/eakova/zigbeam/releases/download/v0.1.0-rc3/arc_benchmark_results.md",
          "size": 1548,
          "content_type": "text/markdown"
        },
        {
          "name": "arcpool_benchmark_results.md",
          "url": "https://github.com/eakova/zigbeam/releases/download/v0.1.0-rc3/arcpool_benchmark_results.md",
          "size": 984,
          "content_type": "text/markdown"
        },
        {
          "name": "thread_local_cache_benchmark_results.md",
          "url": "https://github.com/eakova/zigbeam/releases/download/v0.1.0-rc3/thread_local_cache_benchmark_results.md",
          "size": 2303,
          "content_type": "text/markdown"
        },
        {
          "name": "dependency_graph.md",
          "url": "https://github.com/eakova/zigbeam/releases/download/v0.1.0-rc3/dependency_graph.md",
          "size": 5068,
          "content_type": "text/markdown"
        }
      ]
    }
  ],
  "owner_company": null,
  "owner_location": "Istanbul",
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 7,
  "owner_following": 10,
  "owner_created_at": "2012-03-20T12:31:29Z",
  "license": "Apache-2.0",
  "category": "library"
}