{
  "name": "zeptolibc",
  "owner": "ringtailsoftware",
  "repo": "zeptolibc",
  "description": "Some basic libc functions for working with C code in Zig",
  "type": "package",
  "topics": [
    "libc",
    "zig",
    "zig-package"
  ],
  "stars": 15,
  "forks": 0,
  "watchers": 1,
  "updated_at": "2025-12-04T09:02:24Z",
  "readme": "# ZeptoLibC\n\nA few of the most essential libc functions needed when working with C code in Zig.\n\nMuch of the code is taken from [ziglibc](https://github.com/marler8997/ziglibc).\n\nZeptoLibC provides, among others:\n\n - `malloc()`, `calloc()`, `realloc()`, `free()`\n - `printf()`, `fprintf()`, `snprintf()`\n - `strncmp()`, `strchr()`, `strncpy()`\n - `abs()`, `fabs()`, `sin()`, `cos()`, `sqrt()`, `pow()`, `floor()`, `ceil()`\n - `memset()`, `memmove()`\n\nZeptoLibC is not intended to implement the full C library and does the bare minimum to support I/O operations (just `printf()`). The aim is to allow simple porting of existing C code to freestanding/baremetal environments such as WASM and embedded systems.\n\nAll ZeptoLibC functions start with the prefix `zepto_`, eg. `zepto_malloc()` so as to not clash with any existing C functions. The file `zeptolibc.h` provides `#define`s for mapping `malloc()` -> `zepto_malloc()`.\n\n# How to use\n\nFor a complete example, see https://github.com/ringtailsoftware/zeptolibc-example\n\nFirst we add the library as a dependency in our `build.zig.zon` file.\n\n`zig fetch --save git+https://github.com/ringtailsoftware/zeptolibc.git`\n\nAnd we add it to `build.zig` file.\n```zig\nconst zeptolibc_dep = b.dependency(\"zeptolibc\", .{\n    .target = target,\n    .optimize = optimize,\n});\n\nexe.root_module.addImport(\"zeptolibc\", zeptolibc_dep.module(\"zeptolibc\"));\nexe.addIncludePath(zeptolibc_dep.path(\"src/\"));\n```\n\n# Usage:\n\nAdd `#include \"zeptolibc.h\"` to your C code.\n\n```c\n    #include \"zeptolibc.h\"\n\n    void my_greeting(void) {\n        printf(\"Hello world\\n\");\n    }\n```\n\nSetup ZeptoLibC from Zig and call the C code.\n\n`zeptolibc.init()` may be passed `null` for both write function and allocator. A `null` allocator will cause `malloc()` to always return `NULL`. A `null` write function will silently drop written data.\n\n```zig\n    const std = @import(\"std\");\n    const zeptolibc = @import(\"zeptolibc\");\n\n    const c = @cImport({\n        @cInclude(\"greeting.c\");\n    });\n\n    fn writeFn(data:[]const u8) void {\n        var buf: [512]u8 = undefined;\n        var w = std.fs.File.stdout().writer(&buf);\n        const stdout = &w.interface;\n        _ = stdout.write(data) catch 0;\n        _ = stdout.flush() catch 0;\n    }\n\n    pub fn main() !void {\n        var gpa = std.heap.GeneralPurposeAllocator(.{}){};\n        const allocator = gpa.allocator();\n\n        // init zepto with a memory allocator and a write function (used for stdout and stderr)\n        zeptolibc.init(allocator, writeFn);\n\n        c.my_greeting();\n    }\n```\n\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/20110944?u=93548b94fa9de08e939a35745a2affd82408e198&v=4",
  "releases": [],
  "owner_bio": "@tobyjaffey@mastodon.me.uk",
  "owner_company": "Ringtail Software Ltd",
  "owner_location": "UK",
  "owner_blog": "http://www.ringtailsoftware.co.uk",
  "owner_twitter_username": null,
  "owner_followers": 39,
  "owner_following": 9,
  "owner_created_at": "2016-06-23T13:40:30Z",
  "category": "library"
}