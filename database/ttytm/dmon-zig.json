{
  "name": "dmon-zig",
  "owner": "ttytm",
  "repo": "dmon-zig",
  "description": "Cross-platform Zig module to monitor changes in directories.",
  "type": "package",
  "topics": [
    "bindings",
    "cross-platform",
    "filesystem",
    "library",
    "linux",
    "macos",
    "monitor",
    "monitoring",
    "os",
    "windows"
  ],
  "stars": 6,
  "forks": 0,
  "watchers": 1,
  "updated_at": "2025-02-04T06:56:19Z",
  "dependencies": [
    {
      "name": "standalone_test_cases",
      "url": "./src/bindings/dmon"
    }
  ],
  "readme": "# dmon-zig\n\n[badge__build-status]: https://img.shields.io/github/actions/workflow/status/ttytm/dmon-zig/ci.yml?branch=main&logo=github&logoColor=C0CAF5&labelColor=333\n[badge__version-lib]: https://img.shields.io/github/v/tag/ttytm/dmon-zig?logo=task&logoColor=C0CAF5&labelColor=333&color=\n[badge__version-zig]: https://img.shields.io/badge/Zig-0.13.0-cc742f?logo=zig&logoColor=C0CAF5&labelColor=333\n\n[![][badge__build-status]](https://github.com/ttytm/dmon-zig/actions?query=branch%3Amain)\n[![][badge__version-lib]](https://github.com/ttytm/dmon-zig/releases/latest)\n![][badge__version-zig]\n\nCross-platform Zig module to monitor changes in directories.\nIt utilizes the [dmon](https://github.com/septag/dmon?tab=readme-ov-file) C99 library.\n\n## Installation\n\n```sh\n# ~/<ProjectsPath>/your-awesome-projct\nzig fetch --save https://github.com/ttytm/dmon-zig/archive/main.tar.gz\n```\n\n```zig\n// your-awesome-projct/build.zig\nconst std = @import(\"std\");\n\npub fn build(b: *std.Build) void {\n\t// ..\n\tconst dmon_dep = b.dependency(\"dmon\", .{});\n\tconst exe = b.addExecutable(.{\n\t\t.name = \"your-awesome-projct\",\n\t\t// ..\n\t});\n\texe.root_module.addImport(\"dmon\", dmon_dep.module(\"dmon\"));\n\t// ...\n}\n```\n\n## Usage Example\n\n```v\nconst std = @import(\"std\");\nconst dmon = @import(\"dmon\");\nconst print = std.debug.print;\n\nconst Context = struct {\n\ttrigger_count: u32 = 0,\n};\n\npub fn watchCb(\n\tcomptime Ctx: type,\n\t_: dmon.WatchId,\n\taction: dmon.Action,\n\troot_dir: [*:0]const u8,\n\tfile_path: [*:0]const u8,\n\told_file_path: ?[*:0]const u8,\n\tcontext: *Ctx,\n) void {\n\tprint(\"Action: {}\\n\", .{action});\n\tprint(\"Root: {s}\\n\", .{root_dir});\n\tprint(\"File path: {s}\\n\", .{file_path});\n\tprint(\"Old file path: {s}\\n\", .{old_file_path orelse \"\"});\n\tcontext.trigger_count += 1;\n}\n\npub fn main() !void {\n\tdmon.init();\n\tdefer dmon.deinit();\n\n\tconst watch_path = \"/home/user/Documents\";\n\tconst id = dmon.watch(Context, watch_path, watchCb, .{ .recursive = true }, &ctx);\n\tprint(\"Starting to watch: {s}; Watcher ID: {d}\\n\", .{ watch_path, id });\n\n\twhile (true) {\n\t\tif (ctx.trigger_count >= 3) break;\n\t}\n}\n```\n\nFor a simple local example watching the cwd: [`dmon-zig/examples/src/main.zig`](https://github.com/ttytm/dmon-zig/blob/main/examples/src/main.zig)\n\n```sh\n# Perform a lightweight, filtered, yet complete clone\ngit clone --recursive --shallow-submodules --filter=blob:none \\\n  https://github.com/ttytm/dmon-zig && \\\ncd dmon-zig/examples\n```\n\n```sh\n# dmon-zig/examples\nzig build run\n```\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/34311583?u=e8d3ed10b58b43fd7dd2b6ec5f347b5d5a2f8ce0&v=4",
  "releases": [],
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 100,
  "owner_following": 51,
  "owner_created_at": "2017-12-06T15:22:36Z",
  "license": "BSD-2-Clause",
  "category": "filesystem"
}