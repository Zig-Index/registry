{
  "name": "cova",
  "owner": "00JCIV00",
  "repo": "cova",
  "description": "Commands, Options, Values, Arguments. A simple yet robust cross-platform command line argument parsing library for Zig.",
  "type": "package",
  "topics": [
    "clap",
    "cli",
    "zig",
    "terminal",
    "zig-package",
    "ziglang",
    "command-line"
  ],
  "stars": 139,
  "forks": 10,
  "watchers": 5,
  "updated_at": "2025-12-09T06:26:33Z",
  "minimum_zig_version": "0.15.1",
  "readme": "![cova_icon_v2 1](https://github.com/00JCIV00/cova/assets/68087632/0b485f6b-ddf4-4772-96eb-899d4606f9cc)\n\n# Commands **⋅** Options **⋅** Values **⋅** Arguments \nA simple yet robust cross-platform command line argument parsing library for Zig.\n\n[![Static Badge](https://img.shields.io/badge/v0.15.2(stable)-orange?logo=Zig&logoColor=Orange&label=Zig&labelColor=Orange)](https://ziglang.org/download/)\n[![Static Badge](https://img.shields.io/badge/v0.10.1b-blue?logo=GitHub&label=Release)](https://github.com/00JCIV00/cova/releases/tag/v0.10.1-beta)\n[![GitHub commit activity](https://img.shields.io/github/commits-difference/00JCIV00/cova?base=v0.10.1&head=main&logo=Github&label=Commits%20(v0.11.0b))](https://github.com/00JCIV00/cova/commits/main/)\n[![Static Badge](https://img.shields.io/badge/MIT-silver?label=License)](https://github.com/00JCIV00/cova/blob/main/LICENSE)\n\n___\n\n## Overview\n`command --option value`\n\nCova is based on the idea that Arguments will fall into one of three types: Commands, Options, or Values. These Types are assembled into a single Command struct which is then used to parse argument tokens. Whether you're looking for simple argument parsing or want to create something as complex as the [`ip`](https://www.man7.org/linux/man-pages/man8/ip.8.html) or [`git`](https://www.man7.org/linux/man-pages/man1/git.1.html) commands, Cova makes it easy.\n\n## Get Started Quickly!\n- [Quick Start Guide](https://github.com/00JCIV00/cova/wiki/Getting-Started)\n- [Full Wiki Guide](https://github.com/00JCIV00/cova/wiki/)\n- [API Docs](https://00jciv00.github.io/cova/)\n\n### Quick Example\n[Logger Example](https://github.com/00JCIV00/cova/blob/main/examples/logger.zig)\n```shell\nlogger --log-level info\n```\n#### Set up a Command\n```zig\n// ...\npub const CommandT = cova.Command.Custom(.{...});\npub const setup_cmd: CommandT = .{\n    .name = \"logger\",\n    .description = \"A small demo of using the Log Level Enum as an Option.\",\n    .examples = &.{ \"logger --log-level info\" },\n    .opts = &.{\n        .{\n            .name = \"log_level\",\n            .description = \"An Option using the `log.Level` Enum.\",\n            .long_name = \"log-level\",\n            .mandatory = true,\n            .val = .ofType(log.Level, .{\n                .name = \"log_level_val\",\n                .description = \" This Value will handle the Enum.\"\n            })\n        }\n    },\n};\n```\n#### Parse the Command\n```zig\npub fn main() !void {\n    // ...\n    var main_cmd = try setup_cmd.init(alloc, .{});\n    defer main_cmd.deinit();\n    var args_iter: cova.ArgIteratorGeneric = try .init(alloc);\n    defer args_iter.deinit();\n\n    cova.parseArgs(&args_iter, CommandT, main_cmd, stdout, .{}) catch |err| switch (err) {\n        error.UsageHelpCalled => return,\n        else => return err,\n    };\n    // ...\n```\n#### Use the Data\n```zig\n    // ...\n    const main_opts = try main_cmd.getOpts(.{});\n    const log_lvl_opt = main_opts.get(\"log_level\").?;\n    const log_lvl = log_lvl_opt.val.getAs(log.Level) catch {\n        log.err(\"The provided Log Level was invalid.\", .{});\n        return;\n    };\n    log.info(\"Provided Log Level: {s}\", .{ @tagName(log_lvl) });\n}\n```\n\n## Features\n- **[Comptime Setup](#comptime-setup). [Runtime Use](#runtime-use).**\n  - Cova is designed to have Argument Types set up at ***compile time*** so they can be validated during each compilation, thus providing you with immediate feedback.\n  - Once validated, Argument Types are initialized to memory for ***runtime*** use where end user argument tokens are parsed then made ready to be analyzed by your code.\n- **[Build-time Bonuses!](#build-time-bonuses)** Cova also provides a simple build step to generate Help Docs, Tab Completion Scripts, and Argument Templates at ***build-time***!\n- **Simple Design:**\n  - All argument tokens are parsed to Argument Types: Commands, Options, or Values.\n    - Options = _Flags_ and Values = _Positional Arguments_\n  - These Argument Types can be *created from* or *converted to* your Structs, Unions, and Functions along with their corresponding Fields and Parameters.\n  - Default Arguments such as `usage` and `help` can be automatically added to all Commands easily. \n  - This design allows for **infinitely nestable** Commands, Options, and Values in a way that's simple to parse, analyze, and use in your projects.\n- **Multiplatform.** Tested across common architectures of Linux, Mac, and Windows.\n- **Granular, Robust Customization:**\n  - [POSIX Compliant](https://www.gnu.org/software/libc/manual/html_node/Argument-Syntax.html) by default, with plenty of ways to configure to **whatever standard you'd like**.\n    - Posix: `command --option option_string \"standalone value\" subcmd -i 42 --bool`\n    - Windows: `Your-Command -StringOption \"value\" -FileOption .\\user\\file\\path`\n  - Cova offers deep customization through the Argument Types and several Config Structs. These customizations all provide simple and predictable defaults, allowing you to only configure what you need.\n- [***And much more!***](https://github.com/00JCIV00/cova/wiki/Feature-List)\n\n## Usage\nCova makes it easy to set up your Argument Types at _comptime_ and use the input provided by your end users at _runtime_!\n\n### Comptime Setup\nThere are two main ways to set up your Argument Types. You can either convert existing Zig Types within your project or create them manually. You can even mix and match these techniques to get the best of both!\n\n<details>\n<summary>Code Example</summary>\n\n```zig\nconst std = @import(\"std\");\nconst cova = @import(\"cova\");\npub const CommandT = cova.Command.Base();\npub const OptionT = CommandT.OptionT;\npub const ValueT = CommandT.ValueT;\n\n// The root Command for your program.\npub const setup_cmd: CommandT = .{\n    .name = \"basic-app\",\n    .description = \"A basic user management application designed to highlight key features of the Cova library.\",\n    .cmd_groups = &.{ \"INTERACT\", \"VIEW\" },\n    .sub_cmds = &.{\n        // A Sub Command created from converting a Struct named `User`.\n        // Usage Ex: `basic-app new -f Bruce -l Wayne -a 40 -p \"555 555 5555\" -A \" 1007 Mountain Drive, Gotham\" true`\n        .from(User, .{\n            .cmd_name = \"new\",\n            .cmd_description = \"Add a new user.\",\n            .cmd_group = \"INTERACT\",\n            .sub_descriptions = &.{\n                .{ \"is_admin\", \"Add this user as an admin?\" },\n                .{ \"first_name\", \"User's First Name.\" }, \n                .{ \"last_name\", \"User's Last Name.\" },\n                .{ \"age\", \"User's Age.\" },\n                .{ \"phone\", \"User's Phone #.\" },\n                .{ \"address\", \"User's Address.\" },\n            },\n        }),\n        // A Sub Command created from a Function named `open`.\n        // Usage Ex: `basic-app open users.csv`\n        .from(@TypeOf(open), .{\n            .cmd_name = \"open\",\n            .cmd_description = \"Open or create a users file.\",\n            .cmd_group = \"INTERACT\",\n        }),\n        // A manually created Sub Command, same as the root `setup_cmd`.\n        // Usage Ex: `basic-app clean` or `basic-app delete --file users.csv`\n        .{\n            .name = \"clean\",\n            .description = \"Clean (delete) the default users file (users.csv) and persistent variable file (.ba_persist).\",\n            .alias_names = &.{ \"delete\", \"wipe\" },\n            .cmd_group = \"INTERACT\",\n            .opts = &.{\n                .{\n                    .name = \"clean_file\",\n                    .description = \"Specify a single file to be cleaned (deleted) instead of the defaults.\",\n                    .alias_long_names = &.{ \"delete_file\" },\n                    .short_name = 'f',\n                    .long_name = \"file\",\n                    .val = .ofType([]const u8, .{\n                        .name = \"clean_file\",\n                        .description = \"The file to be cleaned.\",\n                        .alias_child_type = \"filepath\",\n                        .valid_fn = cova.Value.ValidationFns.validFilepath,\n                    }),\n                },\n            },\n        },\n    }\n};\n// Continue to Runtime Use...\n```\n</details>\n\n### Runtime Use\nOnce Cova has parsed input from your end users, it puts that data into the Command you set up. \nYou can call various methods on the Command to use that data however you need.\n\n<details>\n<summary>Code Example</summary>\n\n```zig\n// ...continued from the Comptime Setup.\npub fn main() !void {\n    const gpa: std.heap.DebugAllocator(.{}) = .init;\n    const alloc = gpa.allocator();\n\n    // Initializing the `setup_cmd` with an allocator will make it available for Runtime use.\n    const main_cmd = try setup_cmd.init(alloc, .{}); \n    defer main_cmd.deinit();\n\n    // Parsing\n    var args_iter: cova.ArgIteratorGeneric = try .init(alloc);\n    defer args_iter.deinit();\n    var stdout_file = fs.File.stdout();\n    var stdout_buf: [4096]u8 = undefined;\n    var stdout_writer = stdout_file.writer(stdout_buf[0..]);\n    const stdout = &stdout_writer.interface;\n    defer stdout.flush() catch {};\n\n    cova.parseArgs(&args_iter, CommandT, main_cmd, stdout, .{}) catch |err| switch (err) {\n        error.UsageHelpCalled,\n        error.TooManyValues,\n        error.UnrecognizedArgument,\n        error.UnexpectedArgument,\n        error.CouldNotParseOption => {},\n        else => return err,\n    };\n\n    // Analysis (Using the data.)\n    if (builtin.mode == .Debug) try cova.utils.displayCmdInfo(CommandT, main_cmd, alloc, &stdout);\n    \n    // Glossing over some project variables here.\n\n    // Convert a Command back into a Struct.\n    if (main_cmd.matchSubCmd(\"new\")) |new_cmd| {\n        var new_user = try new_cmd.to(User, .{});\n        new_user._id = getNextID();\n        try users.append(new_user);\n        try stdout.print(\"Added:\\n{s}\\n\", .{ new_user });\n    }\n    // Convert a Command back into a Function and call it.\n    if (main_cmd.matchSubCmd(\"open\")) |open_cmd| {\n        user_file = try open_cmd.callAs(open, null, std.fs.File);\n    }\n    // Get the provided sub Command and check an Option from that sub Command.\n    if (main_cmd.matchSubCmd(\"clean\")) |clean_cmd| cleanCmd: {\n        if ((try clean_cmd.getOpts(.{})).get(\"clean_file\")) |clean_opt| {\n            if (clean_opt.val.isSet()) {\n                const filename = try clean_opt.val.getAs([]const u8);\n                try delete(filename);\n                break :cleanCmd;\n            }\n        }\n        try delete(\"users.csv\");\n        try delete(\".ba_persist\");\n    }\n}\n```\n</details>\n\n### More Examples\n- [logger](./examples/logger.zig): The simple example from the top of the README.\n- [basic-app](./examples/basic_app.zig): Where the above examples come from.\n- [covademo](./examples/covademo.zig): This is the testbed for Cova, but its a good demo of virtually every feature in the library.\n\n## Build-time Bonuses\nCova's simple Meta Doc Generator build step lets you quickly and easily generate documents in the following formats based on the Commands you set up at comptime:\n- Help Docs:\n  - Manpages\n  - Markdown\n- Tab Completion Scripts:\n  - Bash\n  - Zsh\n  - Powershell\n- Argument Templates:\n  - JSON\n  - KDL\n\n <details>\n<summary>Code Example</summary>\n   \n```zig\n// Within 'build.zig'\npub fn build(b: *std.Build) void {\n    // Set up your build variables as normal.\n\n    const cova_dep = b.dependency(\"cova\", .{ .target = target, .optimize = optimize });\n    const cova_mod = cova_dep.module(\"cova\");\n\n    // Set up your exe step as you normally would.\n\n    const cova_gen = @import(\"cova\").addCovaDocGenStep(b, cova_dep, exe, .{\n        .kinds = &.{ .all },\n        .version = \"0.10.2\",\n        .ver_date = \"23 AUG 2025\",\n        .author = \"00JCIV00\",\n        .copyright = \"MIT License\",\n    });\n    const meta_doc_gen = b.step(\"gen-meta\", \"Generate Meta Docs using Cova\");\n    meta_doc_gen.dependOn(&cova_gen.step);\n}\n```\n</details>\n\n## Demo\n![cova_demo](./docs/cova_demo.gif)\n  \n## Alternatives\n- [flags](https://github.com/n0s4/flags)\n- [snek](https://github.com/BitlyTwiser/snek)\n- [yazap](https://github.com/PrajwalCH/yazap)\n- [zig-args](https://github.com/masterQ32/zig-args)\n- [zig-clap](https://github.com/Hejsil/zig-clap)\n- [zig-cli](https://github.com/sam701/zig-cli)\n- [zli](https://gitlab.com/nihklas/zli)\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/68087632?u=2763bd3764e3594c5c903ae9d7360ba4e1bbc8ff&v=4",
  "releases": [
    {
      "tag_name": "v0.10.1-beta",
      "name": "v0.10.1-beta",
      "body": "**Full Changelog**: https://github.com/00JCIV00/cova/compare/v0.9.1-beta...v0.10.1-beta\r\n\r\nThis version is primarily enhancements and fixes to features from v0.10.0.\r\n\r\n## v0.10.1 (Supports Zig v0.13)\r\n### Features\r\n- Zig v0.13 support.\r\n- Improved the Documentation, Examples, & Build Process.\r\n- Added the \"cova\" Log Scope.\r\n- Added a `reset()` method f/ Commands similar to the one for `std.ArrayList`.\r\n- Exposed `indent_fmt` f/ Values.\r\n- Added `getAllAs()` to Values to help w/ multi-value analysis.\r\n- Created the `UsageHelpConfig` f/ Initialization. (This will be reworked into `DefaultArgConfig` in v0.11)\r\n- Added `excluded_short_opts` to the `FromConfig` f/ Commands to allow for more granular conversion control with Default Arguments.\r\n\r\n### Fixes\r\n- Fixed Enum handling f/ Values.\r\n- Fixed Boolean parsing issue f/ Values.",
      "prerelease": false,
      "published_at": "2024-09-21T20:58:10Z",
      "html_url": "https://github.com/00JCIV00/cova/releases/tag/v0.10.1-beta",
      "assets": []
    },
    {
      "tag_name": "v0.10.0-beta",
      "name": "v0.10.0-beta",
      "body": "**Full Changelog**: https://github.com/00JCIV00/cova/compare/v0.9.1-beta...v0.10.0-beta\r\n\r\n## v0.10.0 (Supports Zig v0.12)\r\n\r\n### New Features\r\n* Meta Doc Generators for Help Docs, Tab Completion Scripts, and Argument Templates!\r\n* Inheritable Options that can be passed down to all Sub-Commands of a given Command (ex: `cmd --opt` and `cmd sub-cmd --opt` would refer to the same `--opt`).\r\n* New `parent_cmd` field for all Argument Types, allowing for easier bi-directional referencing.\r\n* New `examples` field for Commands which is used to show examples in Usage/Help messages and Help Docs.\r\n* New Argument Index (`arg_idx`) field for all Argument Types, so you can tell exactly where an Argument was provided in relation to other Arguments regardless of spacing.\r\n* New `checkArgGroup()` method for Commands to check if an Argument from the specified Argument Group was used.\r\n* Argument Type Configs now have an `optimized()` function that can slim down the Value Union and remove certain features to help reduce binary size. (These optimizations can be enabled individually as well.)\r\n\r\n### Doc Improvements\r\n* Updated the [Docs](https://00jciv00.github.io/cova/) to use the new Zig Autodocs. They're also now created through CI using a GitHub Workflow.\r\n* Revamped the [Guides](https://github.com/00JCIV00/cova/wiki) and moved them to a GitHub Wiki for the Cova repo.\r\n* Simplified the README to be leaner and cleaner. (Always looking for feedback on this)\r\n* Better `basic-app` and `covademo` examples.\r\n\r\n### Fixes & Optimizations\r\n* Revamped allocation model that closely resembles Zig's Managed Types.\r\n* Better Value parsing.\r\n* Improved Value Union default Types.\r\n* Several updates to stay in line with Zig changes (`no comptime var`, `b.path()`, etc)\r\n\r\n### Breaking\r\n* Several fields from the Argument Types and Configs have been renamed for better consistency.\r\n* Meta Doc Gen has been completely reworked from the very limited version available in v0.9.0.",
      "prerelease": true,
      "published_at": "2024-05-16T21:21:11Z",
      "html_url": "https://github.com/00JCIV00/cova/releases/tag/v0.10.0-beta",
      "assets": []
    },
    {
      "tag_name": "v0.9.1-beta",
      "name": "v0.9.1-beta",
      "body": "**Full Changelog**: https://github.com/00JCIV00/cova/compare/v0.9.0-beta...v0.9.1-beta\r\n\r\n# v0.9.1\r\n- Revamped the Readme to be more concise and readable.\r\n- Updated for Zig Build API changes.",
      "prerelease": true,
      "published_at": "2024-01-07T03:05:51Z",
      "html_url": "https://github.com/00JCIV00/cova/releases/tag/v0.9.1-beta",
      "assets": []
    },
    {
      "tag_name": "v0.9.0-beta",
      "name": "v0.9.0-beta",
      "body": "## What's Changed\r\n* v0.9.0-beta by @00JCIV00 in https://github.com/00JCIV00/cova/pull/48\r\n\r\n\r\n**Full Changelog**: https://github.com/00JCIV00/cova/compare/v0.8.0-beta...v0.9.0-beta\r\n\r\n## v0.9.0\r\n### New Features\r\n- Implemented Argument Groups to help organize Arguments for Usage/Help messages and analysis.\r\n- Implemented Aliases for Commands & Options and Value Child Types.\r\n- Added more methods to make analyzing Arguments even easier.\r\n- Added customizable Callback Functions and new Formatting options for Usage/Help messages.\r\n- Implemented Mandatory Options with the new `mandatory` field.\r\n- Implemented Option Termination which is configurable under `cova.ParseConfig`.\r\n- Revamped the handling of Values with an Enum Child Type to make them seamless to work with.\r\n- Revamped Conversions for fields w/ default values.\r\n- Tested on additional platforms.\r\n- Updated Installation to use the new `zig fetch --save`.\r\n- Updated the [Docs](https://00jciv00.github.io/cova/#A;cova) and [Guides](https://00jciv00.github.io/cova/#G;) with more features and examples.\r\n\r\n### Breaking\r\n- Changed the `get`, `check`, and `match` methods for analyzing Options & Values to use Argument Groups.\r\n- Added new `global_` and `child_type_` prefixes for certain fields.\r\n- Added Allocator parameter requirement for all Callback Functions.\r\n\r\n### Fixes & Optimizations\r\n- Fixed bug with Long Option parsing.\r\n- Fixed bug with Boolean Value parsing.\r\n- Fixed Alignment Issue on ARM devices.\r\n- Fixed bug with `Command.Custom.getVals()`.\r\n- Fixed bug with `Command.Custom.to()` parsing.\r\n- Fixed Zig removal of `meta.trait`.\r\n- Fixed Zig \"local variable is never mutated\" errors.\r\n- Removed several unnecessary, erroneous uses of `const` and `@constCast()`.\r\n- Optimized the default size of the `Value.Generic` Union and added customization options allowing for much smaller binaries.\r\n- Optimized parts of Argument Initialization/De-initialization.",
      "prerelease": true,
      "published_at": "2024-01-07T02:56:28Z",
      "html_url": "https://github.com/00JCIV00/cova/releases/tag/v0.9.0-beta",
      "assets": []
    },
    {
      "tag_name": "v0.8.0-beta",
      "name": "v0.8.0-beta",
      "body": "## What's Changed\r\n* v0.8.0-beta by @00JCIV00 in https://github.com/00JCIV00/cova/pull/25\r\n\r\n\r\n**Full Changelog**: https://github.com/00JCIV00/cova/compare/v0.7.0-beta...v0.8.0-beta\r\n\r\n- Improved the Argument Analysis experience with the addition of the checkSubCmd() and matchSubCmd() methods in Command!\r\n- Implemented Command conversions from/to Unions and Functions in addition to Structs!\r\n- Revamped Values to be more in line with Commands and Options and also to allow for them to be based on arbitrary Types! (This is the one breaking change that will require older projects to be reworked a little.)\r\n- Added several new Parsing configurations for easier parse-error handling and POSIX compliance.\r\n- Implemented Tokenization of raw argument strings.\r\n- Revised the locations of several configurations to be more predictable.\r\n- Improved the README, [API Docs](https://00jciv00.github.io/cova/#A;cova), and [Guides](https://00jciv00.github.io/cova/#G;) so they're easier to follow and navigate through.\r\n- Created a [Basic App](https://github.com/00JCIV00/cova/blob/main/examples/basic_app.zig) as a well-documented example of Cova's features in action!",
      "prerelease": true,
      "published_at": "2023-12-28T07:41:21Z",
      "html_url": "https://github.com/00JCIV00/cova/releases/tag/v0.8.0-beta",
      "assets": []
    },
    {
      "tag_name": "v0.7.0-beta",
      "name": "v0.7.0-beta",
      "body": "Version 0.7.0\r\n\r\nPublic Beta Release!",
      "prerelease": true,
      "published_at": "2023-07-09T21:05:47Z",
      "html_url": "https://github.com/00JCIV00/cova/releases/tag/v0.7.0-beta",
      "assets": [
        {
          "name": "cova_v0.7.0.tar.gz",
          "url": "https://github.com/00JCIV00/cova/releases/download/v0.7.0-beta/cova_v0.7.0.tar.gz",
          "size": 18686,
          "content_type": "application/x-gzip"
        }
      ]
    }
  ],
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 28,
  "owner_following": 8,
  "owner_created_at": "2020-07-09T23:35:39Z",
  "homepage": "https://00jciv00.github.io/cova/",
  "license": "MIT",
  "category": "cli"
}