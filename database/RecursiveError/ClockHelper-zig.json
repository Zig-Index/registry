{
  "name": "ClockHelper-zig",
  "owner": "RecursiveError",
  "repo": "ClockHelper-zig",
  "description": "ClockHelper is a utility to facilitate clock management on STM32 microcontrollers.",
  "type": "package",
  "topics": [
    "embedded",
    "stm32",
    "zig",
    "zig-package"
  ],
  "stars": 6,
  "forks": 1,
  "watchers": 1,
  "updated_at": "2025-12-24T00:51:34Z",
  "dependencies": [
    {
      "name": "clap",
      "url": "https://github.com/Hejsil/zig-clap/archive/refs/tags/0.11.0.tar.gz",
      "hash": "clap-0.11.0-oBajB-HnAQDPCKYzwF7rO3qDFwRcD39Q0DALlTSz5H7e"
    }
  ],
  "minimum_zig_version": "0.15.0",
  "readme": "# ClockHelper v0.2.0\n\nClockHelper is a utility to facilitate clock management on STM32 microcontrollers.\n### Note: \nClockHelper is in the early stages of development, configurations may be incorrect/incomplete. In case of errors, feel free to open an issue.\n\n- state after rework: this project is under rework and is currently in the second phase of development. In this phase the focus is to identify problems in code generation, such as useless flags, incorrect configurations, invalid or unreachable expressions, errors in clock values and configuration after data processing, typos and more. The idea is to catalog as many problems as possible and identify which problems should be fixed by the code generator before starting the manual patching stage. \n\n\n\n## CLI tool\n### CLI notice: The CLI is currently obsolete, but will be updated as soon as the project reaches a more stable state\n\nclock helper comes with a utility to transcribe configurations generated by CubeMX (.ioc files) into configurations for embedded Zig projects\n\nto create an executable of this tool: `zig build clock_helper --release=safe`\n\nusage: `clock_helper -i <ioc file> -o <out file>`\n\n## usage\n\nTo use it, it's very simple:\n\nChoose a controller from the [list](src/lib.zig):\n\n```zig\nconst ClockHelper = @import(\"ClockHelper\");\n\nconst STM32F103x = ClockHelper.@\"STM32F103C(8-B)Tx\";\n```\n\nCreate a clock using the settings you want to use:\n\n```zig\nconst config = STM32F103x.Config{\n    .SYSCLKSource = .RCC_SYSCLKSOURCE_PLLCLK,\n    //.PLLSource = .RCC_PLLSOURCE_HSI_DIV2, USB force Pllsource to be HSE\n    .PLLMUL = .RCC_PLL_MUL6,\n    .APB1CLKDivider = .RCC_HCLK_DIV2,\n    .flags = .{ .USBUsed_ForRCC = true, .HSEOscillator = true },\n};\n\nconst out = STM32F103x.get_clocks(config) catch unreachable;\nconst Clock = out.clock;\n```\nAnd that's it — ClockHelper will provide the clock value for each peripheral for this configuration. It also analyzes and builds all RCC configurations, returning comprehensive error messages if any errors occur.\n\n```zig\nconst std = @import(\"std\");\nconst ClockHelper = @import(\"ClockHelper\");\n\nconst STM32F103x = ClockHelper.@\"STM32F103C(8-B)Tx\";\n\nconst config = STM32F103x.Config{\n    .SYSCLKSource = .RCC_SYSCLKSOURCE_PLLCLK,\n    //.PLLSource = .RCC_PLLSOURCE_HSI_DIV2, USB force Pllsource to be HSE\n    .PLLMUL = .RCC_PLL_MUL6,\n    .APB1CLKDivider = .RCC_HCLK_DIV2,\n    .flags = .{ .USBUsed_ForRCC = true, .HSEOscillator = true },\n};\n\nconst out = STM32F103x.get_clocks(config) catch unreachable;\nconst Clock = out.clock;\n\npub fn main() !void {\n    @compileLog(std.fmt.comptimePrint(\n        \\\\Corrent OutClocks:\n        \\\\SysClock: {d}Mhz\n        \\\\AHB Clock: {d}Mhz\n        \\\\APB1 Clock: {d}Mhz\n        \\\\TimAPB1: {d}Mhz\n        \\\\APB2 Clock: {d}Mhz\n        \\\\TimAPB2: {d}Mhz\n        \\\\USB: {d}Mhz\n        \\\\\n    , .{\n        (Clock.SysCLKOutput / 1_000_000),\n        (Clock.AHBOutput / 1_000_000),\n        (Clock.APB1Output / 1_000_000),\n        (Clock.TimPrescOut1 / 1_000_000),\n        (Clock.APB2Output / 1_000_000),\n        (Clock.TimPrescOut2 / 1_000_000),\n        (Clock.USBoutput / 1_000_000),\n    }));\n}\n\n```\n\n\n\n\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/65524156?u=568d579680b0c757b4659290e006ecfebe7dbf2a&v=4",
  "releases": [],
  "owner_bio": "Autodidata em Sistemas Embarcados, eletrônica e programação \r\n\r\n\r\n",
  "owner_company": null,
  "owner_location": "Praia Grande-sp,  Brasil ",
  "owner_blog": "https://www.linkedin.com/in/guilherme-s-schultz-a72b70217",
  "owner_twitter_username": "RecursiveError",
  "owner_followers": 43,
  "owner_following": 72,
  "owner_created_at": "2020-05-18T04:06:34Z",
  "license": "MIT",
  "category": "embedded"
}