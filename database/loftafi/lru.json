{
  "name": "lru",
  "owner": "loftafi",
  "repo": "lru",
  "description": "LRU cache for zig",
  "type": "package",
  "topics": [
    "zig-package",
    "zig"
  ],
  "stars": 2,
  "forks": 0,
  "watchers": 0,
  "updated_at": "2025-08-13T19:50:26Z",
  "minimum_zig_version": "0.14.1",
  "readme": "## LRU\n\nAn LRU cache for zig projects. Compatible with Zig 0.14.\n\nThis code is for my personal use, and works for my purposes. There is no\nguarantee that it will be suitable and reliable for your purposes. The\ncode is released under the MIT licence, you are free to use it, but\nstrongly urged to fully test that the code functions correctly for your\nuse cases.\n\n## How to use\n\nLRU caches are usually expected to automatically free objects when the cache\nis full. This example demonstrates how to provide an optional callback function\nto free an object.\n\n```zig\n/// Implement a `destroy` function.\nconst Sample = struct {\n    age: u8 = 10,\n    pub const Self = @This();\n    pub fn destroy(self: *Self, gpa: Allocator) void {\n        gpa.destroy(self);\n    }\n};\n```\n\nCreate an LRU cache that holds a maximum of 100 objects. \n\n```zig\nvar lru = LRU(u32, *Sample).init(100);\ndefer lru.deinit(allocator);\n// Tell the lru cache to call the destroy function on free:\nlru.entry_dealloc = Sample.destroy;\n```\n\nPut and get items from the cache:\n```zig\nconst sample = try allocator.create(Sample);\nsample.*.age = 20;\n\nconst sample2 = try allocator.create(Sample);\nsample2.*.age = 30;\n\ntry lru.put(allocator, 20, sample);\ntry lru.put(allocator, 30, sample2);\ntry lru.put(allocator, 40, sample3);\n\nif(try lru.get(20)) |entry| {\n    std.log.info(\"Age: {d}\", .{entry.age});\n}\n```\n\n## Strings as keys\n\nIf you wish to use strings as keys, you can hash your string key into a u64.\nThis is exactly how zigs `StringHashMap` operates.\n\n\n```zig\nvar lru = LRU(u64, *Sample).init(100);\ndefer lru.deinit(allocator);\n\nconst key = std.hash.Wyhash.hash(0, \"andrew@example.com\");\ntry lru.put(allocator, key, sample);\n```\n\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/199742861?u=f3dc58206cc40c5e6ef5f95258d934e8a11f9e69&v=4",
  "releases": [],
  "owner_bio": "Go • Zig • Rust",
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 2,
  "owner_following": 2,
  "owner_created_at": "2025-02-18T09:25:35Z",
  "category": "library"
}