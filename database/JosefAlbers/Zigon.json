{
  "name": "Zigon",
  "owner": "JosefAlbers",
  "repo": "Zigon",
  "description": "Zigon: A procedural 3D terrain generator and visualizer written in Zig using Raylib",
  "type": "package",
  "topics": [
    "3d",
    "3d-engine",
    "3d-game",
    "3d-graphics",
    "3d-models",
    "procedural-generation",
    "procedural-terrain",
    "raylib",
    "raylib-zig",
    "wasm"
  ],
  "stars": 49,
  "forks": 1,
  "watchers": 4,
  "updated_at": "2026-02-18T17:08:52Z",
  "readme": "# Zigon - Procedural 3D World Builder\n\nZigon is a 3D procedural generation engine built in Zig with Raylib, designed for instant web deployment and python scripting.\n\n[![Zigon Terrain](https://raw.githubusercontent.com/JosefAlbers/Zigon/main/assets/intro1.png)](https://josefalbers.github.io/Zigon/)\n\n[![Zigon Terrain](https://raw.githubusercontent.com/JosefAlbers/Zigon/main/assets/zigon.gif)](https://josefalbers.github.io/Zigon/)\n\n**[Live Web Demo](https://josefalbers.github.io/Zigon/)** â€¢ **[YouTube Demos](https://www.youtube.com/playlist?list=PL9S8vGIQARIjJsAg3WpS49gjECYQDEHje)** â€¢ **[PyPI Package](https://pypi.org/project/zigon/)**\n\n## Running Zig Executables\n\n| Command | Description |\n|---------|-------------|\n| `zig build run` | 3D render demo |\n| `zig build run-terrain` | Terrain generation demo |\n| `zig build run-dungeon` | Dungeon generation demo |\n| `zig build run-bench` | Benchmarking |\n| `zig build` | Python scripting library |\n\nConfigure terrain, dungeons, and rendering with compile-time flags:\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `-Dmap-size=<size>` | Terrain grid size (64, 128, 256, 512, 1024) | 128 |\n| `-Ddungeon-type=<type>` | Dungeon archetype: -1=none, 0=rooms, 1=rogue, 2=cavern, 3=maze, 4=labyrinth, 5=arena | -1 |\n| `-Ddungeon-magnify=<factor>` | Dungeon upscaling factor | 4 |\n| `-Dseed=<number>` | Initial random seed (0=timestamp) | 0 |\n| `-Dwindow-width=<pixels>` | Window width | 800 |\n| `-Dwindow-height=<pixels>` | Window height | 600 |\n| `-Draylib-include=<path>` | Custom raylib include directory | system default |\n| `-Draylib-lib=<path>` | Custom raylib library directory | system default |\n\n### Dungeon Generation\n\nZigon implements Wave Function Collapse (wfc) with backtracking for procedural dungeon generation. Six archetypes are supported:\n\n```\nzig build run -Ddungeon-type=4 -Dseed=86\n```\n\nThe WFC solver maintains adjacency rules from example layouts, ensuring generated dungeons are traversable and aesthetically consistent.\n\n![Labyrinth Dungeon](https://raw.githubusercontent.com/JosefAlbers/Zigon/main/assets/dungeon.gif)\n\n### Terrain Generation\n\nZigon uses Fractional Brownian Motion (fbm) to synthesize organic landscapes by layering multiple iterations of noise at varying frequencies:\n\n```\nZig build run-terrain\n```\n\n- Octaves: Defines the number of detail layers; more octaves create more complex terrain.\n- Persistence: Determines how much the amplitude (height) decreases each layer, controlling surface roughness.\n- Lacunarity: Sets the frequency (density) increase per layer, dictating the scale of fine details.\n\n![Terrain with Zigger](https://raw.githubusercontent.com/JosefAlbers/Zigon/main/assets/terrain.gif)\n\n## Python Scripting\n\nZigon exposes a full Python API via ctypes. Write game logic in Python while terrain generation, rendering, and physics run at native speed.\n\n```bash\npython main.py\n```\n\n![python main.py](https://raw.githubusercontent.com/JosefAlbers/Zigon/main/assets/tui.gif)\n\n### Basic Example\n\n```python\nfrom zigon import Zigon\n\n# Initialize engine\ngame = Zigon(size=128)\n\n# Load procedural or real-world terrain data\ngame.load_map(get_base_map(128, 'gradient'))\n\n# Spawn entities\ngame.spawn(\"House\", 100, 100)\ngame.spawn_shape(\"Cube\", -10, -10, size=2.0, height=20.0, color=(100, 100, 100))\n\n# Register event callbacks\n@game.set_callback\ndef on_frame(event_key, event_val):\n    if event_key == 0:  # Frame update\n        # Update game state\n        pass\n    elif event_key == 2:  # Mouse click\n        pos = game.get_click_pos()\n        print(f\"Clicked at {pos}\")\n\n# Start main loop\ngame.start()\n```\n\n### Advanced: Entity Management\n\n```python\nfrom rpg import Objects\n\n# Spawn NPC with patrol path\nnpc = Objects(game, \"Human\", 0, 0)\nnpc.set_path([(-20, 0), (-20, 20), (-10, 20)], speed=3.0, loop=True)\n\n# React to clicks\n@npc.on_click\ndef handle_interaction(obj):\n    print(f\"NPC clicked at {obj.get_pos()}\")\n    # Spawn visual effect\n    x, z, _ = obj.get_pos()\n    Objects(game, \"Beam\", x, z, duration=2.0)\n```\n\n## Performance\n\nAll benchmarks measured on Apple M1 Max at 1920Ã—1000 resolution. See `actual_benchmark_results.out` for raw data.\n\n```bash\n# Build Zig terrain benchmark\nzig build bench\n./zig-out/bin/bench_terrain\n\n# Run full comparison suite (Python + Zig)\npython bench_zigon.py\n\n# Rendering stress test (opens window)\npython bench_render.py\n\n# Generate markdown report\npython bench_zigon.py --report BENCHMARKS.md\n```\n\n<details><summary>Click to expand output</summary><pre>\n\n~/D/tzg> python bench_render.py                                                                                                                                                                               (tzg)\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘            ZIGON RENDERING STRESS TEST                     â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nâ”€â”€ Test 1: Terrain-Only FPS (no entities) â”€â”€\n\nINFO: Initializing raylib 5.5\nINFO: Platform backend: DESKTOP (GLFW)\nINFO: Supported raylib modules:\nINFO:     > rcore:..... loaded (mandatory)\nINFO:     > rlgl:...... loaded (mandatory)\nINFO:     > rshapes:... loaded (optional)\nINFO:     > rtextures:. loaded (optional)\nINFO:     > rtext:..... loaded (optional)\nINFO:     > rmodels:... loaded (optional)\nINFO:     > raudio:.... loaded (optional)\nINFO: DISPLAY: Device initialized successfully\nINFO:     > Display size: 1920 x 1080\nINFO:     > Screen size:  1920 x 1000\nINFO:     > Render size:  1920 x 1000\nINFO:     > Viewport offsets: 0, 0\nINFO: GLAD: OpenGL extensions loaded successfully\nINFO: GL: Supported extensions count: 43\nINFO: GL: OpenGL device information:\nINFO:     > Vendor:   Apple\nINFO:     > Renderer: Apple M1 Max\nINFO:     > Version:  4.1 Metal - 89.4\nINFO:     > GLSL:     4.10\nINFO: GL: VAO extension detected, VAO functions loaded successfully\nINFO: GL: NPOT textures extension detected, full NPOT textures supported\nINFO: GL: DXT compressed textures supported\nINFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully\nINFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)\nINFO: TEXTURE: [ID 1] Default texture loaded successfully\nINFO: SHADER: [ID 1] Vertex shader compiled successfully\nINFO: SHADER: [ID 2] Fragment shader compiled successfully\nINFO: SHADER: [ID 3] Program shader loaded successfully\nINFO: SHADER: [ID 3] Default shader loaded successfully\nINFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)\nINFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)\nINFO: RLGL: Default OpenGL state initialized successfully\nINFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)\nINFO: FONT: Default font loaded successfully (224 glyphs)\nINFO: SYSTEM: Working Directory: /Users/jjms/Downloads/tzg\nINFO: TIMER: Target time per frame: 16.667 milliseconds\nINFO: VAO: [ID 2] Mesh uploaded successfully to VRAM (GPU)\nINFO: TEXTURE: [ID 3] Texture loaded successfully (63x63 | R8G8B8A8 | 1 mipmaps)\n  Terrain 64x64                        FPS:    59.1  avg:  16.93ms  p99:  17.82ms\nINFO: VAO: [ID 2] Unloaded vertex array data from VRAM (GPU)\nINFO: MODEL: Unloaded model (and meshes) from RAM and VRAM\nINFO: TEXTURE: [ID 3] Unloaded texture data from VRAM (GPU)\nINFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)\nINFO: SHADER: [ID 3] Default shader unloaded successfully\nINFO: TEXTURE: [ID 1] Default texture unloaded successfully\nINFO: Window closed successfully\nINFO: Initializing raylib 5.5\nINFO: Platform backend: DESKTOP (GLFW)\nINFO: Supported raylib modules:\nINFO:     > rcore:..... loaded (mandatory)\nINFO:     > rlgl:...... loaded (mandatory)\nINFO:     > rshapes:... loaded (optional)\nINFO:     > rtextures:. loaded (optional)\nINFO:     > rtext:..... loaded (optional)\nINFO:     > rmodels:... loaded (optional)\nINFO:     > raudio:.... loaded (optional)\nINFO: DISPLAY: Device initialized successfully\nINFO:     > Display size: 1920 x 1080\nINFO:     > Screen size:  1920 x 1000\nINFO:     > Render size:  1920 x 1000\nINFO:     > Viewport offsets: 0, 0\nINFO: GLAD: OpenGL extensions loaded successfully\nINFO: GL: Supported extensions count: 43\nINFO: GL: OpenGL device information:\nINFO:     > Vendor:   Apple\nINFO:     > Renderer: Apple M1 Max\nINFO:     > Version:  4.1 Metal - 89.4\nINFO:     > GLSL:     4.10\nINFO: GL: VAO extension detected, VAO functions loaded successfully\nINFO: GL: NPOT textures extension detected, full NPOT textures supported\nINFO: GL: DXT compressed textures supported\nINFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully\nINFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)\nINFO: TEXTURE: [ID 1] Default texture loaded successfully\nINFO: SHADER: [ID 1] Vertex shader compiled successfully\nINFO: SHADER: [ID 2] Fragment shader compiled successfully\nINFO: SHADER: [ID 3] Program shader loaded successfully\nINFO: SHADER: [ID 3] Default shader loaded successfully\nINFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)\nINFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)\nINFO: RLGL: Default OpenGL state initialized successfully\nINFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)\nINFO: FONT: Default font loaded successfully (224 glyphs)\nINFO: SYSTEM: Working Directory: /Users/jjms/Downloads/tzg\nINFO: TIMER: Target time per frame: 16.667 milliseconds\nINFO: VAO: [ID 2] Mesh uploaded successfully to VRAM (GPU)\nINFO: TEXTURE: [ID 3] Texture loaded successfully (127x127 | R8G8B8A8 | 1 mipmaps)\n  Terrain 128x128                      FPS:    59.2  avg:  16.90ms  p99:  17.60ms\nINFO: VAO: [ID 2] Unloaded vertex array data from VRAM (GPU)\nINFO: MODEL: Unloaded model (and meshes) from RAM and VRAM\nINFO: TEXTURE: [ID 3] Unloaded texture data from VRAM (GPU)\nINFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)\nINFO: SHADER: [ID 3] Default shader unloaded successfully\nINFO: TEXTURE: [ID 1] Default texture unloaded successfully\nINFO: Window closed successfully\nINFO: Initializing raylib 5.5\nINFO: Platform backend: DESKTOP (GLFW)\nINFO: Supported raylib modules:\nINFO:     > rcore:..... loaded (mandatory)\nINFO:     > rlgl:...... loaded (mandatory)\nINFO:     > rshapes:... loaded (optional)\nINFO:     > rtextures:. loaded (optional)\nINFO:     > rtext:..... loaded (optional)\nINFO:     > rmodels:... loaded (optional)\nINFO:     > raudio:.... loaded (optional)\nINFO: DISPLAY: Device initialized successfully\nINFO:     > Display size: 1920 x 1080\nINFO:     > Screen size:  1920 x 1000\nINFO:     > Render size:  1920 x 1000\nINFO:     > Viewport offsets: 0, 0\nINFO: GLAD: OpenGL extensions loaded successfully\nINFO: GL: Supported extensions count: 43\nINFO: GL: OpenGL device information:\nINFO:     > Vendor:   Apple\nINFO:     > Renderer: Apple M1 Max\nINFO:     > Version:  4.1 Metal - 89.4\nINFO:     > GLSL:     4.10\nINFO: GL: VAO extension detected, VAO functions loaded successfully\nINFO: GL: NPOT textures extension detected, full NPOT textures supported\nINFO: GL: DXT compressed textures supported\nINFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully\nINFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)\nINFO: TEXTURE: [ID 1] Default texture loaded successfully\nINFO: SHADER: [ID 1] Vertex shader compiled successfully\nINFO: SHADER: [ID 2] Fragment shader compiled successfully\nINFO: SHADER: [ID 3] Program shader loaded successfully\nINFO: SHADER: [ID 3] Default shader loaded successfully\nINFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)\nINFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)\nINFO: RLGL: Default OpenGL state initialized successfully\nINFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)\nINFO: FONT: Default font loaded successfully (224 glyphs)\nINFO: SYSTEM: Working Directory: /Users/jjms/Downloads/tzg\nINFO: TIMER: Target time per frame: 16.667 milliseconds\nINFO: VAO: [ID 2] Mesh uploaded successfully to VRAM (GPU)\nINFO: TEXTURE: [ID 3] Texture loaded successfully (255x255 | R8G8B8A8 | 1 mipmaps)\n  Terrain 256x256                      FPS:    59.0  avg:  16.95ms  p99:  17.50ms\nINFO: VAO: [ID 2] Unloaded vertex array data from VRAM (GPU)\nINFO: MODEL: Unloaded model (and meshes) from RAM and VRAM\nINFO: TEXTURE: [ID 3] Unloaded texture data from VRAM (GPU)\nINFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)\nINFO: SHADER: [ID 3] Default shader unloaded successfully\nINFO: TEXTURE: [ID 1] Default texture unloaded successfully\nINFO: Window closed successfully\n\nâ”€â”€ Test 2: Entity Scaling (128x128 terrain) â”€â”€\n\nINFO: Initializing raylib 5.5\nINFO: Platform backend: DESKTOP (GLFW)\nINFO: Supported raylib modules:\nINFO:     > rcore:..... loaded (mandatory)\nINFO:     > rlgl:...... loaded (mandatory)\nINFO:     > rshapes:... loaded (optional)\nINFO:     > rtextures:. loaded (optional)\nINFO:     > rtext:..... loaded (optional)\nINFO:     > rmodels:... loaded (optional)\nINFO:     > raudio:.... loaded (optional)\nINFO: DISPLAY: Device initialized successfully\nINFO:     > Display size: 1920 x 1080\nINFO:     > Screen size:  1920 x 1000\nINFO:     > Render size:  1920 x 1000\nINFO:     > Viewport offsets: 0, 0\nINFO: GLAD: OpenGL extensions loaded successfully\nINFO: GL: Supported extensions count: 43\nINFO: GL: OpenGL device information:\nINFO:     > Vendor:   Apple\nINFO:     > Renderer: Apple M1 Max\nINFO:     > Version:  4.1 Metal - 89.4\nINFO:     > GLSL:     4.10\nINFO: GL: VAO extension detected, VAO functions loaded successfully\nINFO: GL: NPOT textures extension detected, full NPOT textures supported\nINFO: GL: DXT compressed textures supported\nINFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully\nINFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)\nINFO: TEXTURE: [ID 1] Default texture loaded successfully\nINFO: SHADER: [ID 1] Vertex shader compiled successfully\nINFO: SHADER: [ID 2] Fragment shader compiled successfully\nINFO: SHADER: [ID 3] Program shader loaded successfully\nINFO: SHADER: [ID 3] Default shader loaded successfully\nINFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)\nINFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)\nINFO: RLGL: Default OpenGL state initialized successfully\nINFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)\nINFO: FONT: Default font loaded successfully (224 glyphs)\nINFO: SYSTEM: Working Directory: /Users/jjms/Downloads/tzg\nINFO: TIMER: Target time per frame: 16.667 milliseconds\nINFO: VAO: [ID 2] Mesh uploaded successfully to VRAM (GPU)\nINFO: TEXTURE: [ID 3] Texture loaded successfully (127x127 | R8G8B8A8 | 1 mipmaps)\n  0 entities (baseline)                FPS:    59.0  avg:  16.93ms  p99:  17.46ms\n  100 static entities                  FPS:    58.6  avg:  17.06ms  p99:  17.68ms\n  500 static entities                  FPS:    58.1  avg:  17.21ms  p99:  17.30ms\n  1000 static entities                 FPS:    46.4  avg:  21.57ms  p99:  22.59ms\n  2000 static entities                 FPS:    12.6  avg:  79.54ms  p99:  80.67ms\n  5000 static entities                 FPS:     2.6  avg: 379.21ms  p99: 390.51ms\nINFO: VAO: [ID 2] Unloaded vertex array data from VRAM (GPU)\nINFO: MODEL: Unloaded model (and meshes) from RAM and VRAM\nINFO: TEXTURE: [ID 3] Unloaded texture data from VRAM (GPU)\nINFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)\nINFO: SHADER: [ID 3] Default shader unloaded successfully\nINFO: TEXTURE: [ID 1] Default texture unloaded successfully\nINFO: Window closed successfully\n\nâ”€â”€ Test 3: Moving Entities (update + render) â”€â”€\n\nINFO: Initializing raylib 5.5\nINFO: Platform backend: DESKTOP (GLFW)\nINFO: Supported raylib modules:\nINFO:     > rcore:..... loaded (mandatory)\nINFO:     > rlgl:...... loaded (mandatory)\nINFO:     > rshapes:... loaded (optional)\nINFO:     > rtextures:. loaded (optional)\nINFO:     > rtext:..... loaded (optional)\nINFO:     > rmodels:... loaded (optional)\nINFO:     > raudio:.... loaded (optional)\nINFO: DISPLAY: Device initialized successfully\nINFO:     > Display size: 1920 x 1080\nINFO:     > Screen size:  1920 x 1000\nINFO:     > Render size:  1920 x 1000\nINFO:     > Viewport offsets: 0, 0\nINFO: GLAD: OpenGL extensions loaded successfully\nINFO: GL: Supported extensions count: 43\nINFO: GL: OpenGL device information:\nINFO:     > Vendor:   Apple\nINFO:     > Renderer: Apple M1 Max\nINFO:     > Version:  4.1 Metal - 89.4\nINFO:     > GLSL:     4.10\nINFO: GL: VAO extension detected, VAO functions loaded successfully\nINFO: GL: NPOT textures extension detected, full NPOT textures supported\nINFO: GL: DXT compressed textures supported\nINFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully\nINFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)\nINFO: TEXTURE: [ID 1] Default texture loaded successfully\nINFO: SHADER: [ID 1] Vertex shader compiled successfully\nINFO: SHADER: [ID 2] Fragment shader compiled successfully\nINFO: SHADER: [ID 3] Program shader loaded successfully\nINFO: SHADER: [ID 3] Default shader loaded successfully\nINFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)\nINFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)\nINFO: RLGL: Default OpenGL state initialized successfully\nINFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)\nINFO: FONT: Default font loaded successfully (224 glyphs)\nINFO: SYSTEM: Working Directory: /Users/jjms/Downloads/tzg\nINFO: TIMER: Target time per frame: 16.667 milliseconds\nINFO: VAO: [ID 2] Mesh uploaded successfully to VRAM (GPU)\nINFO: TEXTURE: [ID 3] Texture loaded successfully (127x127 | R8G8B8A8 | 1 mipmaps)\n  100 moving entities                  FPS:    58.6  avg:  17.06ms  p99:  17.77ms\n  500 moving entities                  FPS:    58.1  avg:  17.22ms  p99:  17.29ms\n  1000 moving entities                 FPS:    46.3  avg:  21.60ms  p99:  21.80ms\nINFO: VAO: [ID 2] Unloaded vertex array data from VRAM (GPU)\nINFO: MODEL: Unloaded model (and meshes) from RAM and VRAM\nINFO: TEXTURE: [ID 3] Unloaded texture data from VRAM (GPU)\nINFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)\nINFO: SHADER: [ID 3] Default shader unloaded successfully\nINFO: TEXTURE: [ID 1] Default texture unloaded successfully\nINFO: Window closed successfully\n\nâ”€â”€ Test 4: Mixed Shape Types â”€â”€\n\nINFO: Initializing raylib 5.5\nINFO: Platform backend: DESKTOP (GLFW)\nINFO: Supported raylib modules:\nINFO:     > rcore:..... loaded (mandatory)\nINFO:     > rlgl:...... loaded (mandatory)\nINFO:     > rshapes:... loaded (optional)\nINFO:     > rtextures:. loaded (optional)\nINFO:     > rtext:..... loaded (optional)\nINFO:     > rmodels:... loaded (optional)\nINFO:     > raudio:.... loaded (optional)\nINFO: DISPLAY: Device initialized successfully\nINFO:     > Display size: 1920 x 1080\nINFO:     > Screen size:  1920 x 1000\nINFO:     > Render size:  1920 x 1000\nINFO:     > Viewport offsets: 0, 0\nINFO: GLAD: OpenGL extensions loaded successfully\nINFO: GL: Supported extensions count: 43\nINFO: GL: OpenGL device information:\nINFO:     > Vendor:   Apple\nINFO:     > Renderer: Apple M1 Max\nINFO:     > Version:  4.1 Metal - 89.4\nINFO:     > GLSL:     4.10\nINFO: GL: VAO extension detected, VAO functions loaded successfully\nINFO: GL: NPOT textures extension detected, full NPOT textures supported\nINFO: GL: DXT compressed textures supported\nINFO: PLATFORM: DESKTOP (GLFW - Cocoa): Initialized successfully\nINFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)\nINFO: TEXTURE: [ID 1] Default texture loaded successfully\nINFO: SHADER: [ID 1] Vertex shader compiled successfully\nINFO: SHADER: [ID 2] Fragment shader compiled successfully\nINFO: SHADER: [ID 3] Program shader loaded successfully\nINFO: SHADER: [ID 3] Default shader loaded successfully\nINFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)\nINFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)\nINFO: RLGL: Default OpenGL state initialized successfully\nINFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)\nINFO: FONT: Default font loaded successfully (224 glyphs)\nINFO: SYSTEM: Working Directory: /Users/jjms/Downloads/tzg\nINFO: TIMER: Target time per frame: 16.667 milliseconds\nINFO: VAO: [ID 2] Mesh uploaded successfully to VRAM (GPU)\nINFO: TEXTURE: [ID 3] Texture loaded successfully (127x127 | R8G8B8A8 | 1 mipmaps)\n  200 mixed shapes                     FPS:    58.5  avg:  17.09ms  p99:  17.23ms\n  1000 mixed shapes                    FPS:    36.6  avg:  27.33ms  p99:  27.73ms\nINFO: VAO: [ID 2] Unloaded vertex array data from VRAM (GPU)\nINFO: MODEL: Unloaded model (and meshes) from RAM and VRAM\nINFO: TEXTURE: [ID 3] Unloaded texture data from VRAM (GPU)\nINFO: TEXTURE: [ID 2] Unloaded texture data from VRAM (GPU)\nINFO: SHADER: [ID 3] Default shader unloaded successfully\nINFO: TEXTURE: [ID 1] Default texture unloaded successfully\nINFO: Window closed successfully\n\n======================================================================\nRESULTS SUMMARY\n======================================================================\n\n  Test                                    FPS   Avg ms   P99 ms\n  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€\n  Terrain 64x64                          59.1    16.93    17.82\n  Terrain 128x128                        59.2    16.90    17.60\n  Terrain 256x256                        59.0    16.95    17.50\n  0 entities (baseline)                  59.0    16.93    17.46\n  100 static entities                    58.6    17.06    17.68\n  500 static entities                    58.1    17.21    17.30\n  1000 static entities                   46.4    21.57    22.59\n  2000 static entities                   12.6    79.54    80.67\n  5000 static entities                    2.6   379.21   390.51\n  100 moving entities                    58.6    17.06    17.77\n  500 moving entities                    58.1    17.22    17.29\n  1000 moving entities                   46.3    21.60    21.80\n  200 mixed shapes                       58.5    17.09    17.23\n  1000 mixed shapes                      36.6    27.33    27.73\n\n  ðŸ“„ Raw results: bench_render_results.json\n~/D/tzg> python bench_zigon.py                                                                                                                                                                                (tzg)\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘              ZIGON PERFORMANCE BENCHMARK SUITE             â•‘\nâ•‘         Zig + Raylib Engine vs Python Baselines            â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n======================================================================\nBENCHMARK 1: FBM Terrain Generation (heightmap)\n  Comparison: Zig (native) vs NumPy (vectorized) vs Pure Python\n======================================================================\n\n  [64x64] Pure Python:       131.8 ms  (31,077 px/s)\n  [64x64] NumPy:               1.3 ms  (3,040,549 px/s)\n  [64x64] Zig (native):        0.8 ms  (5,132,832 px/s)\n\n  [128x128] Pure Python:       481.5 ms  (34,026 px/s)\n  [128x128] NumPy:               4.6 ms  (3,591,538 px/s)\n  [128x128] Zig (native):        3.2 ms  (5,140,884 px/s)\n\n  [256x256] Pure Python:      1921.3 ms  (34,110 px/s)\n  [256x256] NumPy:              19.0 ms  (3,444,700 px/s)\n  [256x256] Zig (native):       12.7 ms  (5,153,821 px/s)\n\n  [512x512] Pure Python:  SKIPPED (too slow)\n  [512x512] NumPy:              85.2 ms  (3,075,368 px/s)\n  [512x512] Zig (native):       51.7 ms  (5,069,012 px/s)\n\n  [1024x1024] Pure Python:  SKIPPED (too slow)\n  [1024x1024] NumPy:             414.6 ms  (2,528,933 px/s)\n  [1024x1024] Zig (native):      214.2 ms  (4,894,764 px/s)\n\n======================================================================\nBENCHMARK 2: Terrain Height Query Throughput\n  Simulates per-frame lookups for physics/AI (10,000 queries)\n======================================================================\n\n  Pure Python:  1.42 ms  (7,060,276 queries/sec)\n  NumPy bulk:   0.03 ms  (306,512,990 queries/sec)\n\n  â†’ NumPy vs Python: 43x faster\n  â†’ Zig (native) expected: ~10-50x faster than NumPy (zero-copy, no GIL)\n\n======================================================================\nBENCHMARK 3: Entity Management Throughput\n  Spawn â†’ Update (60 ticks) â†’ Despawn cycle\n======================================================================\n\n  [   100 entities] Python:      0.3 ms  (924,379 ops/sec)\n  [   100 entities] Zig:    â†’ Expected ~20-100x via HashMap + no GC\n\n  [ 1,000 entities] Python:      3.3 ms  (896,503 ops/sec)\n  [ 1,000 entities] Zig:    â†’ Expected ~20-100x via HashMap + no GC\n\n  [10,000 entities] Python:     33.6 ms  (893,390 ops/sec)\n  [10,000 entities] Zig:    â†’ Expected ~20-100x via HashMap + no GC\n\n======================================================================\nBENCHMARK 4: Memory Footprint\n======================================================================\n\n  [128x128] Python/NumPy peak: 3215.3 KB\n  [128x128] Zig estimated:     64.0 KB  (bare f32 array)\n  [128x128] Ratio:             50.2x\n\n  [256x256] Python/NumPy peak: 12815.3 KB\n  [256x256] Zig estimated:     256.0 KB  (bare f32 array)\n  [256x256] Ratio:             50.1x\n\n  [512x512] Python/NumPy peak: 51215.3 KB\n  [512x512] Zig estimated:     1024.0 KB  (bare f32 array)\n  [512x512] Ratio:             50.0x\n\n======================================================================\nBENCHMARK 5: Deployment Size Comparison\n======================================================================\n\n  Zigon (lib_walk.dylib): 1.04 MB\n\n  Comparison (typical minimal 3D web app):\n    Unity WebGL (minimal 3D)            30-50 MB\n    Godot Web (minimal 3D)              15-25 MB\n    Three.js + bundler                  ~1-3 MB (no physics)\n    Electron (minimal)                  ~150 MB\n    Zigon WASM (Zig+Raylib)             ~1.0 MB â—„\n\n======================================================================\nSUMMARY\n======================================================================\n\n  Zigon's architecture (Zig core + Python scripting + WASM export) wins:\n\n  âœ“ Terrain Generation:  100-500x faster than pure Python\n                         5-20x faster than NumPy\n  âœ“ Height Queries:      Zero-overhead native lookups (no GIL, no boxing)\n  âœ“ Entity Management:   Native HashMap, no GC pauses\n  âœ“ Memory:              2-10x less RAM (bare arrays vs Python objects)\n  âœ“ WASM Bundle:         ~2-3 MB vs 30+ MB (Unity) or 150 MB (Electron)\n  âœ“ Single Codebase:     Desktop native + Web WASM from one Zig source\n\n\n  ðŸ“„ Report saved to BENCHMARKS.md\n~/D/tzg> zig build run-bench                                                                                                                                                                                  (tzg)\n\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘       ZIGON TERRAIN GENERATION BENCHMARK (Zig)      â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n  FBM: 6 octaves, persistence=0.5, lacunarity=2.0, scale=50.0\n  Optimization: ReleaseFast\n  Runs: 2 warmup + 5 measured (reporting median)\n\n  Grid Size     Median (ms)       Pixels/sec       Total px\n  ------------ ------------ ---------------- --------------\n  64                0.805 ms        5,088,198          4,096\n  128               5.032 ms        3,255,961         16,384\n  256              12.734 ms        5,146,536         65,536\n  512              51.777 ms        5,062,943        262,144\n  1024            213.943 ms        4,901,193      1,048,576\n  2048            874.860 ms        4,794,257      4,194,304\n\n---JSON---\n[{\"size\":64,\"median_ms\":0.8050,\"pixels_per_sec\":5088198},{\"size\":128,\"median_ms\":5.0320,\"pixels_per_sec\":3255961},{\"size\":256,\"median_ms\":12.7340,\"pixels_per_sec\":5146536},{\"size\":512,\"median_ms\":51.7770,\"pixels_per_sec\":5062943},{\"size\":1024,\"median_ms\":213.9430,\"pixels_per_sec\":4901193},{\"size\":2048,\"median_ms\":874.8600,\"pixels_per_sec\":4794257}]\n---END---\n\n  Done.\n\n~/D/tzg> zig build bench_native                                                                                                                                                                               (tzg)\n~/D/tzg> ./zig-out/bin/bench_native                                                                                                                                                                           (tzg)\n\n\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘       ZIGON NATIVE TERRAIN BENCHMARK (Pure Zig)         â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n  FBM: 6 octaves, persistence=0.5, lacunarity=2.0, scale=50.0\n  Optimization: ReleaseFast\n  Runs: 3 warmup + 10 measured (reporting median)\n  Note: This is PURE Zig with zero FFI overhead\n\n  Grid Size     Median (ms)       Pixels/sec       Total px\n  ------------ ------------ ---------------- --------------\n  64                1.487 ms        2,754,539          4,096\n  128               3.772 ms        4,343,584         16,384\n  256              12.723 ms        5,150,986         65,536\n  512              51.714 ms        5,069,110        262,144\n  1024            214.049 ms        4,898,766      1,048,576\n  2048            874.555 ms        4,795,929      4,194,304\n\n---JSON---\n[{\"size\":64,\"median_ms\":1.4870,\"median_ns\":1487000,\"pixels_per_sec\":2754539},{\"size\":128,\"median_ms\":3.7720,\"median_ns\":3772000,\"pixels_per_sec\":4343584},{\"size\":256,\"median_ms\":12.7230,\"median_ns\":12723000,\"pixels_per_sec\":5150986},{\"size\":512,\"median_ms\":51.7140,\"median_ns\":51714000,\"pixels_per_sec\":5069110},{\"size\":1024,\"median_ms\":214.0490,\"median_ns\":214049000,\"pixels_per_sec\":4898766},{\"size\":2048,\"median_ms\":874.5550,\"median_ns\":874555000,\"pixels_per_sec\":4795929}]\n---END---\n\n  Performance Analysis:\n  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  â€¢ 256Ã—256 terrain generates in 12.72ms\n  â€¢ That's 78.6 FPS if regenerating every frame\n  â€¢ Processing 5,150,986 pixels/second\n\n  âœ“ These are PURE Zig numbers (no FFI overhead)\n  âœ“ Compare with bench_zigon.py for FFI impact measurement\n\n~/D/tzg> ffmpeg -i output.mp4 -vf \"scale=out_color_matrix=bt709:out_range=full,format=yuv420p\" -c:v libx264 -crf 10 -preset slow -x264opts colorprim=bt709:transfer=bt709:colormatrix=bt709:fullrange=on -c:a copy reddit_fixed.mp4      (tzg)\n~/D/tzg> python bench_zigon_enhanced.py --with-native                                                                                                                                                         (tzg)\n\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘        ZIGON PERFORMANCE BENCHMARK SUITE (Enhanced)        â•‘\nâ•‘    Pure Python | NumPy | Zig-FFI | Zig-Native Comparison   â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n  Mode: Including NATIVE Zig benchmark for zero-overhead comparison\n\n======================================================================\nBENCHMARK 1: FBM Terrain Generation (6 octaves)\n======================================================================\n\n  Running native Zig benchmark: zig-out/bin/bench_native\n  âœ“ Zigon library loaded (FFI mode)\n\n  [64Ã—64]\n    Pure Python:     120.0 ms\n    NumPy:             1.3 ms\n    Zig (FFI):         2.7 ms  â† includes ctypes overhead\n    Zig (native):      0.8 ms  â† zero overhead\n      â†’ FFI overhead: ~1844.0 Âµs per call\n\n  [128Ã—128]\n    Pure Python:     481.0 ms\n    NumPy:             4.5 ms\n    Zig (FFI):        10.8 ms  â† includes ctypes overhead\n    Zig (native):      3.2 ms  â† zero overhead\n      â†’ FFI overhead: ~7649.2 Âµs per call\n\n  [256Ã—256]\n    Pure Python:    1921.6 ms\n    NumPy:            19.0 ms\n    Zig (FFI):        44.1 ms  â† includes ctypes overhead\n    Zig (native):     12.7 ms  â† zero overhead\n      â†’ FFI overhead: ~31413.0 Âµs per call\n\n  [512Ã—512]\n    NumPy:            89.7 ms\n    Zig (FFI):       180.8 ms  â† includes ctypes overhead\n    Zig (native):     51.7 ms  â† zero overhead\n      â†’ FFI overhead: ~129016.1 Âµs per call\n\n  [1024Ã—1024]\n    NumPy:           427.6 ms\n    Zig (FFI):       735.0 ms  â† includes ctypes overhead\n    Zig (native):    214.0 ms  â† zero overhead\n      â†’ FFI overhead: ~520969.8 Âµs per call\n\n  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  Size     Python       NumPy        Zig-FFI      Zig-Native\n  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  64       120 ms       1.3 ms       2.7 ms       0.8 ms\n  128      481 ms       4.5 ms       10.8 ms      3.2 ms\n  256      1922 ms      19.0 ms      44.1 ms      12.7 ms\n  512      â€”            89.7 ms      180.8 ms     51.7 ms\n  1024     â€”            427.6 ms     735.0 ms     214.0 ms\n\n======================================================================\nKEY FINDINGS\n======================================================================\n\n  At 256Ã—256 (typical game map):\n    â€¢ Pure Python:  1922 ms\n    â€¢ NumPy:        19.0 ms\n    â€¢ Zig (FFI):    44.1 ms  â† adds ~1-2Âµs overhead\n    â€¢ Zig (native): 12.7 ms  â† PURE performance\n\n  Real-time generation: 79 FPS\n\n  Architecture wins:\n    âœ“ Pure Zig:      100-150Ã— faster than Python\n    âœ“ FFI overhead:  Negligible (~1-2Âµs) for high-value operations\n    âœ“ Best of both:  Python scripting + Native performance\n~/D/tzg>                                                                                                                                                                                                      (tzg)\n</pre></details>\n### Terrain Generation\n\nZig-native FBM heightmap vs Python alternatives (same algorithm, 6 octaves):\n\n| Grid Size | Pure Python | NumPy | Zig (native) |\n|-----------|-------------|-------|--------------|\n| 64Ã—64 | 146 ms | 1.4 ms | **1.8 ms** |\n| 128Ã—128 | 481 ms | 4.5 ms | **4.5 ms** |\n| 256Ã—256 | 1,919 ms | 18.9 ms | **12.7 ms** |\n\n### Rendering Stress Test\n\nFrames per second under increasing entity load (128Ã—128 terrain, vsync on):\n\n| Scenario | FPS | Avg Frame | P99 Frame |\n|----------|-----|-----------|-----------|\n| Terrain only | 59.0 | 16.9 ms | 17.7 ms |\n| 100 static entities | 58.5 | 17.1 ms | 18.4 ms |\n| 500 static entities | 58.0 | 17.2 ms | 17.3 ms |\n| 1,000 static entities | 46.3 | 21.6 ms | 22.4 ms |\n| 1,000 moving entities | 46.3 | 21.6 ms | 22.1 ms |\n| 200 mixed shapes | 58.5 | 17.1 ms | 17.4 ms |\n| 1,000 mixed shapes | 36.6 | 27.3 ms | 28.3 ms |\n\n### Memory & Deployment Size\n\n| Metric | Zigon | Python/NumPy |\n|--------|-------|-------------|\n| 128Ã—128 terrain RAM | 64 KB | 3,215 KB |\n| 256Ã—256 terrain RAM | 256 KB | 12,815 KB |\n| Native library | 1.04 MB | â€” | â€” |\n| **WASM web build** | **386 KB** | â€” | â€” |\n\nFor comparison, Unity WebGL is 30â€“50 MB, Godot Web is 15â€“25 MB, Electron is 150+ MB. Zigon's WASM bundle (compiled Zig + Raylib) is **386 KB**. With Zigon, you can host a complete 3D terrain explorer as a [static web page](https://josefalbers.github.io/Zigon/).\n\n## Design Philosophy\n\nZigon is built around three core principles:\n\n1. **Native performance where it matters** â€” Terrain generation, mesh construction, and rendering happen in compiled Zig. No interpreter overhead.\n2. **Scripting flexibility where it helps** â€” Game logic, entity behavior, and UI can be written in Python. Iterate without recompiling.\n3. **Single-command deployment** â€” One `zig build` produces a native app, a Python library, and a WASM web bundle from the same source.\n\nThis architecture enables:\n- **Rapid prototyping** â€” tweak game logic in Python, see changes instantly\n- **Production performance** â€” ship native binaries with zero Python runtime overhead\n- **Universal deployment** â€” embed the same engine in web pages, desktop apps, or Jupyter notebooks\n\n## Contributing\n\nContributions are welcome! Please feel free to submit a Pull Request.\n\n## License\n\nApache License 2.0 â€” see [LICENSE](LICENSE) for details.\n\n## Acknowledgments\n\n- Terrain generation inspired by [Perlin Noise](https://en.wikipedia.org/wiki/Perlin_noise) and [FastNoiseLite](https://github.com/Auburn/FastNoiseLite)\n- Dungeon generation using [Wave Function Collapse](https://github.com/mxgmn/WaveFunctionCollapse)\n- 3D assets from\n  - [FPS Hands + Sig Sauer 225](https://skfb.ly/NVBt) by Ulrik LangvandsbrÃ¥ten licensed under [Creative Commons Attribution](http://creativecommons.org/licenses/by/4.0/)\n  - [Lockheed Martin F-22 \"Raptor\"](https://skfb.ly/pqCLv) by andertan licensed under [Creative Commons Attribution](http://creativecommons.org/licenses/by/4.0/)\n- 3D rendering powered by [Raylib](https://www.raylib.com/)\n- Zig programming language by [Zig Software Foundation](https://ziglang.org/)\n\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/146810011?u=82db06a413ae0858bddd59cb3026d92c878a78f1&v=4",
  "releases": [],
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 48,
  "owner_following": 8,
  "owner_created_at": "2023-10-03T06:32:37Z",
  "homepage": "https://josefalbers.github.io/Zigon/",
  "license": "Apache-2.0",
  "category": "library"
}