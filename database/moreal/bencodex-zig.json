{
  "name": "bencodex-zig",
  "owner": "moreal",
  "repo": "bencodex-zig",
  "description": "Bencodex implementation written in Zig",
  "type": "package",
  "topics": [
    "zig-package"
  ],
  "stars": 4,
  "forks": 0,
  "watchers": 1,
  "updated_at": "2025-07-02T06:05:33Z",
  "dependencies": [
    {
      "name": "example",
      "url": "https://example.com/foo.tar.gz",
      "hash": "..."
    }
  ],
  "minimum_zig_version": "0.14.0",
  "readme": "# bencodex-zig\n\nA Zig implementation of the Bencodex format. This library provides a simple and efficient API for encoding and decoding Bencodex data.\n\n## What is Bencodex?\n\n[Bencodex](https://github.com/planetarium/bencodex) is a serialization format that extends BitTorrent's [Bencoding](http://www.bittorrent.org/beps/bep_0003.html#bencoding). Every valid Bencoding representation is also a valid Bencodex representation with the same meaning. Bencodex adds the following data types:\n\n- `null` value\n- Boolean values (`true`, `false`)\n- Unicode strings in addition to byte strings\n- Dictionaries that can use both byte strings and Unicode strings as keys\n\nOne of Bencodex's key features is forced normalization, where only a single valid encoding exists for each complex value. This allows applications to compare encoded forms directly without decoding the values, which is particularly useful for cryptographic hashing or digital signatures.\n\n## Installation\n\n```bash\nzig fetch --save git+https://github.com/moreal/bencodex-zig#main\n```\n\nThen append the following lines to your `build.zig` file:\n\n```zig\nconst bencodex = b.dependency(\"bencodex\", .{});\nexe.root_module.addImport(\"bencodex\", bencodex.module(\"bencodex\"));\n```\n\n## Usage\n\n### Importing\n\n```zig\nconst bencodex = @import(\"bencodex\");\n```\n\n### Encoding\n\n```zig\nconst std = @import(\"std\");\nconst bencodex = @import(\"bencodex\");\n\nconst Value = bencodex.types.Value;\nconst encode = bencodex.encode;\n\npub fn main() !void {\n    // Always use explicit allocator\n    const allocator = std.heap.page_allocator;\n    \n    // Create an integer value\n    var integer = try std.math.big.int.Managed.init(allocator);\n    try integer.setString(10, \"123\");\n    defer integer.deinit();\n\n    // Create a bencodex value\n    const value = Value{ .integer = integer };\n    \n    // Encode the value\n    const encoded = try encode.encodeAlloc(allocator, value);\n    defer allocator.free(encoded);\n    \n    // Print the result\n    std.debug.print(\"{s}\\n\", .{encoded}); // Output: i123e\n}\n```\n\n### Decoding\n\n```zig\nconst std = @import(\"std\");\nconst bencodex = @import(\"bencodex\");\n\nconst decode = bencodex.decode;\n\npub fn main() !void {\n    const allocator = std.heap.page_allocator;\n    \n    // Bencodex data\n    const data = \"i123e\";\n    \n    // Decode\n    const value = try decode.decodeAlloc(allocator, data);\n    defer value.deinit(allocator);\n    \n    // Use the value\n    switch (value) {\n        .integer => |*i| {\n            const str = try i.toString(allocator, 10, .lower);\n            defer allocator.free(str);\n            std.debug.print(\"Integer: {s}\\n\", .{str}); // Output: Integer: 123\n        },\n        else => std.debug.print(\"Other type\\n\", .{}),\n    }\n}\n```\n\n### Creating Complex Values\n\n```zig\nconst std = @import(\"std\");\nconst bencodex = @import(\"bencodex\");\n\nconst Value = bencodex.types.Value;\nconst Key = bencodex.types.Key;\nconst Dictionary = bencodex.types.Dictionary;\n\npub fn createComplexValue(allocator: std.mem.Allocator) !Value {\n    // Create a dictionary\n    var dict = Dictionary.init(allocator);\n    errdefer dict.deinit();\n    \n    // Add text key with integer value\n    {\n        const key = Key{ .text = \"age\" };\n        var integer = try std.math.big.int.Managed.init(allocator);\n        try integer.setString(10, \"30\");\n        const value = Value{ .integer = integer };\n        try dict.put(key, value);\n    }\n    \n    // Add binary key with text value\n    {\n        const key = Key{ .binary = \"raw_data\" };\n        const value = Value{ .text = \"Hello, world!\" };\n        try dict.put(key, value);\n    }\n    \n    // Add a list\n    {\n        const key = Key{ .text = \"items\" };\n        var list = try allocator.alloc(Value, 3);\n        \n        list[0] = Value{ .text = \"item1\" };\n        list[1] = Value.null;\n        list[2] = Value.true;\n        \n        const value = Value{ .list = list };\n        try dict.put(key, value);\n    }\n    \n    return Value{ .dictionary = dict };\n}\n```\n\n## Testing\n\n```bash\nzig build test\n```\n\nThis library includes a comprehensive test suite that validates compliance with the Bencodex specification.\n\n## License\n\nThis project is distributed under the MIT license. See the [LICENSE](./LICENSE) file for details.\n\n## References\n\n- [Bencodex Specification](https://github.com/planetarium/bencodex) - Official Bencodex specification and test suite\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/26626194?u=a2562acc54f54efa2ba93200b57d38da8922718b&v=4",
  "releases": [],
  "owner_bio": "A person",
  "owner_company": null,
  "owner_location": "Seoul, South Korea",
  "owner_blog": "https://moreal.dev",
  "owner_twitter_username": "dev_moreal",
  "owner_followers": 225,
  "owner_following": 460,
  "owner_created_at": "2017-03-23T12:53:58Z",
  "license": "MIT",
  "category": "library"
}