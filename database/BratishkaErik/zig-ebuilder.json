{
  "name": "zig-ebuilder",
  "owner": "BratishkaErik",
  "repo": "zig-ebuilder",
  "description": "Tool for distro maintainers to generate package recipes for Zig projects",
  "type": "package",
  "topics": [
    "ebuild",
    "zig-package",
    "gentoo"
  ],
  "stars": 6,
  "forks": 1,
  "watchers": 1,
  "updated_at": "2025-12-21T19:49:54Z",
  "dependencies": [
    {
      "name": "ztl",
      "url": "git+https://github.com/karlseguin/ztl?ref=master#c2ef279cda843f865e41e0139c957afc25ddd70b",
      "hash": "ztl-0.0.0-XMYgXAjJBACjad2q-qlRgusVcp6aG69Nfg_LSx14_4wq"
    }
  ],
  "minimum_zig_version": "0.14.0",
  "readme": "<!--\nSPDX-FileCopyrightText: 2024 BratishkaErik\n\nSPDX-License-Identifier: CC0-1.0\n-->\n\n# zig-ebuilder\n\n[![REUSE status](https://api.reuse.software/badge/github.com/BratishkaErik/zig-ebuilder)](https://api.reuse.software/info/github.com/BratishkaErik/zig-ebuilder)\n\nzig-ebuilder generates package recipes for system package manager.\nIt consumes `build.zig` and `build.zig.zon` files to fetch dependencies and find:\n* modules and artifacts (from dependencies and project itself),\n* user options and system integration options.\n\nGit-commit dependencies URLs `git+https://` are automatically converted\nto tarball download URLs `https://` if possible. Currently recognized\nservices: Codeberg, GitHub, GitLab, Mach mirror and Sourcehut.\nIf host is unknown, they are archived in one archive\n(called \"tarball-tarball\" from now on) which is then stored in cache\ndirectory, and path is printed to the user.\n\n> [!IMPORTANT]\n> Currently, there is no official way to declare information about\n> licenses, homepage and \"short description\" in `build.zig.zon`, so we\n> can't extract it. You will need to fill it manually after generation.\n>\n> For now I recommend to use [REUSE tooling](https://reuse.software/)\n> (for authors and users) and wait for resolution of\n> https://github.com/ziglang/zig/issues/14342.\n>\n> Additionally, currently one unofficial field is supported:\n> `summary` from [another proposal](https://github.com/ziglang/zig/issues/23816)\n> (corresponds to \"short description\")\n\nResult is then written to the file or STDOUT (you can set file name\nexplicitly or let zig-ebuilder fill it for you).\n\nSupported formats are ebuilds for Gentoo-based distros with\n`zig.eclass` (see https://github.com/gentoo/gentoo/pull/37283).\n\n> [!NOTE]\n> In theory nothing prevents changing it to be useful for other distros too.\n> For now, as a workaround you can use `--template` option below.\n\n## Usage\n\nFor compilation you need Zig 0.14 .\n\nFor using at runtime you can use Zig 0.13, 0.14, 0.15 or latest master commit\n(tested with `0.16.0-dev.1634+b27bdd5af`).\n\n```console\n$ zig build\n```\n\nExecutable, build runners and default template will be installed in `zig-out`.\n\nFetched dependencies and tarball-tarball are stored in cache directory,\nby default `${XDG_CACHE_HOME}/zig-ebuilder/` or `${HOME}/.cache/zig-ebuilder/`.\n\n```console\n$ zig-ebuilder [options] <path-to-project>\n```\n\nExample for https://github.com/natecraddock/zf:\n\n```console\n$ zig-ebuilder --zig /usr/bin/zig-0.13.0 .\n```\n\n```bash\n# Copyright 2025 Gentoo Authors\n# Distributed under the terms of the GNU General Public License v2\n\n# Generated by zig-ebuilder 0.1.0\n\nEAPI=8\n\nDESCRIPTION=\"Write manually\"\nHOMEPAGE=\"Write manually\"\n\ndeclare -g -r -A ZBS_DEPENDENCIES=(\n\t[libxev-12207b7a5b538ffb7fb18f954ae17d2f8490b6e3778a9e30564ad82c58ee8da52361.tar.gz]='https://github.com/mitchellh/libxev/archive/f6a672a78436d8efee1aa847a43a900ad773618b.tar.gz'\n\t[vaxis-1220de23a3240e503397ea579de4fd85db422f537e10036ef74717c50164475813ce.tar.gz]='https://github.com/rockorager/libvaxis/archive/refs/tags/v0.5.1.tar.gz'\n\t[zg-122055beff332830a391e9895c044d33b15ea21063779557024b46169fb1984c6e40.tar.gz]='https://codeberg.org/atman/zg/archive/v0.13.2.tar.gz'\n\t[zig-aio-1220a55aedabdd10578d0c514719ea39ae1bc6d7ed990f508dc100db7f0ccf391437.tar.gz]='https://github.com/Cloudef/zig-aio/archive/b5a407344379508466c5dcbe4c74438a6166e2ca.tar.gz'\n\t[zigimg-1220dd654ef941fc76fd96f9ec6adadf83f69b9887a0d3f4ee5ac0a1a3e11be35cf5.tar.gz]='https://github.com/zigimg/zigimg/archive/3a667bdb3d7f0955a5a51c8468eac83210c1439e.tar.gz'\n\t[zigwin32-1220da4cab188b7b0e351de67626ca0dcadceddd16ca5997cfb578697f0525a59dac.tar.gz]='https://github.com/marlersoft/zigwin32/archive/4a78e716ae6496f52d9ddaf4fda2c4bb692631cd.tar.gz'\n)\n\nZIG_SLOT=\"0.13\"\ninherit zig\n\nSRC_URI=\"\n\t[Write manually main download URL of your package here]\n\t${ZBS_DEPENDENCIES_SRC_URI}\n\"\n\n# List licenses by yourself\n# LICENSE=\"\"\nSLOT=\"0\"\nKEYWORDS=\"~amd64\"\n\nsrc_configure() {\n\tlocal my_zbs_args=(\n\t\t# Here you have list of options that are exposed by build.zig,\n\t\t# pass USE flags and default values here.\n\n\t\t# pie: Build a Position Independent Executable\n\t\t# with_tui: Build TUI\n\n\t\t# -Dpie=[bool]\n\t\t# -Dwith_tui=[bool]\n\t)\n\n\tzig_src_configure\n}\n```\n\n` <path-to-project>` is a `build.zig` file or directory containing it.\nIf it is not set, current directory will be used.\n\nzig-ebuilder will also try to find `build.zig.zon` file nearby.\n\nYou can also check most important options below, to check all of them\nsee `--help` output:\n\n`--zig`: Specify Zig executable to use for `zig fetch` and `zig build`.\nDefault is to use `zig` from `PATH`.\n\n`--fetch`: Choose fetch mode:\n* `none`: skip all fetching. Dependencies will not be parsed in this case.\n* `plain`: (default) fetch all dependencies.\n* `hashed`: use optimized fetching from https://github.com/ziglang/zig/pull/21589,\nZig needs to be patched before.\n\n`--zig-build-args`: pass additional args to `zig build`.\nUseful if you need to pull step config which depends on some conflicting\nuser option, or if some option is required and have no default:\n\n```console\n$ zig-ebuilder . --zig-build-args -Dbackend=x11\n$ zig-ebuilder . --zig-build-args -Dbackend=wayland\n$ zig-ebuilder . --zig-build-args -Dbackend=arcan\n```\n\n`--template`: Specify file with custom\n[ZTL](https://github.com/karlseguin/ztl) template.\n\n## Licenses\n\n[![REUSE status](https://api.reuse.software/badge/github.com/BratishkaErik/zig-ebuilder)](https://api.reuse.software/info/github.com/BratishkaErik/zig-ebuilder)\n\nThis project is [REUSE-compliant](https://github.com/fsfe/reuse-tool),\ntext of licenses can be found in [LICENSES directory](LICENSES/).\nShort overview:\n* Generator itself is licensed under EUPL-1.2.\n* Some snippets from Zig upstream and modified build runners are\nlicensed under upstream MIT.\n* `build.zig`, `build.zig.zon` and default ZTL templates are\nlicensed under 0BSD.\n* This README and CI files are licensed under CC0-1.\n\n[Comparison of used licenses](https://interoperable-europe.ec.europa.eu/licence/compare/EUPL-1.2;MIT;0BSD;CC0-1.0).\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/25210740?u=f03e5cb1bb84c199116bd38d828ad306cf0a15d6&v=4",
  "releases": [],
  "owner_bio": "Poor English",
  "owner_company": null,
  "owner_location": null,
  "owner_blog": null,
  "owner_twitter_username": null,
  "owner_followers": 29,
  "owner_following": 46,
  "owner_created_at": "2017-01-18T21:53:18Z",
  "category": "library"
}