{
  "name": "maxminddb.zig",
  "owner": "marselester",
  "repo": "maxminddb.zig",
  "description": "MaxMind DB format reader in Zig.",
  "type": "package",
  "topics": [
    "maxmind",
    "maxmind-db",
    "zig",
    "zig-package"
  ],
  "stars": 5,
  "forks": 2,
  "watchers": 2,
  "updated_at": "2026-02-27T22:47:58Z",
  "readme": "# Zig MaxMind DB Reader\n\nThis Zig package reads the [MaxMind DB format](https://maxmind.github.io/MaxMind-DB/).\nIt's based on [maxminddb-rust](https://github.com/oschwald/maxminddb-rust) implementation.\n\n⚠️ Note, that strings such as `geolite2.City.postal.code` are backed by the memory of an open database file.\nYou must create a copy if you wish to continue using the string when the database is closed.\n\nYou'll need [MaxMind-DB/test-data](https://github.com/maxmind/MaxMind-DB/tree/main/test-data)\nto run tests/examples and `GeoLite2-City.mmdb` to run the benchmark.\n\n```sh\n$ git submodule update --init\n$ zig build test\n$ zig build example_lookup\nzh-CN = 瑞典\nde = Schweden\npt-BR = Suécia\nes = Suecia\nen = Sweden\nru = Швеция\nfr = Suède\nja = スウェーデン王国\n```\n\n## Quick start\n\nAdd maxminddb.zig as a dependency in your `build.zig.zon`.\n\n```sh\n$ zig fetch --save git+https://github.com/marselester/maxminddb.zig#master\n```\n\nAdd the `maxminddb` module as a dependency in your `build.zig`:\n\n```zig\nconst mmdb = b.dependency(\"maxminddb\", .{\n    .target = target,\n    .optimize = optimize,\n});\nexe.root_module.addImport(\"maxminddb\", mmdb.module(\"maxminddb\"));\n```\n\nSee [examples](./examples/).\n\n## Suggestions\n\nTry `ArenaAllocator` to get ~3% improvement in lookups per second (639,848 vs 659,630) as\ntested on Intel i5-10600, see [examples/benchmark.zig](./examples/benchmark.zig).\n\nIf you don't need all the struct fields, use `Options.only` to decode top-level fields you want.\nHere is how you can decode `City.city` and `City.country` fields.\n\n```zig\n// This gets us ~34% of performance gains, i.e., ~859K lookups per second.\nconst fields = &.{ \"city\", \"country\" };\nconst city = try db.lookup(allocator, maxminddb.geolite2.City, ip, .{ .only = fields });\n```\n\nAlternatively, define your own struct.\n\n```zig\nconst MyCity = struct {\n    city: struct {\n        geoname_id: u32 = 0,\n        names: struct {\n            en: []const u8 = \"\",\n        } = .{},\n    } = .{},\n};\n\nconst city = try db.lookup(allocator, MyCity, ip, .{});\n```\n\nDecoding `MyCity` increases throughput by up to 60% (639,848 vs 1,025,477 lookups per second).\n\n```sh\n$ zig build example_benchmark\n```\n\n<details>\n\n<summary>Smp allocator</summary>\n\n```sh\nBenchmarking with:\n  Database: GeoLite2-City.mmdb\n  Lookups:  1000000\nOpening database...\nDatabase opened successfully in 0.086381 ms. Type: GeoLite2-City\nStarting benchmark...\n\n--- Benchmark Finished ---\nTotal Lookups Attempted: 1000000\nSuccessful Lookups:      858992\nIPs Not Found:           141008\nLookup Errors:           0\nElapsed Time:            1.562869106 s\nLookups Per Second (avg):639848.8498882644\n```\n\n</details>\n\n<details>\n\n<summary>Smp and Arena allocators</summary>\n\n```sh\nBenchmarking with:\n  Database: GeoLite2-City.mmdb\n  Lookups:  1000000\nOpening database...\nDatabase opened successfully in 0.051751 ms. Type: GeoLite2-City\nStarting benchmark...\n\n--- Benchmark Finished ---\nTotal Lookups Attempted: 1000000\nSuccessful Lookups:      858715\nIPs Not Found:           141285\nLookup Errors:           0\nElapsed Time:            1.516001233 s\nLookups Per Second (avg):659630.0703668359\n```\n\n</details>\n\n<details>\n\n<summary>Decoding city/country</summary>\n\n```sh\nBenchmarking with:\n  Database: GeoLite2-City.mmdb\n  Lookups:  1000000\nOpening database...\nDatabase opened successfully in 0.050771 ms. Type: GeoLite2-City\nStarting benchmark...\n\n--- Benchmark Finished ---\nTotal Lookups Attempted: 1000000\nSuccessful Lookups:      858259\nIPs Not Found:           141741\nLookup Errors:           0\nElapsed Time:            1.164061419 s\nLookups Per Second (avg):859061.2004468469\n```\n\n</details>\n\n<details>\n\n<summary>Decoding city name</summary>\n\n```sh\nBenchmarking with:\n  Database: GeoLite2-City.mmdb\n  Lookups:  1000000\nOpening database...\nDatabase opened successfully in 0.061682 ms. Type: GeoLite2-City\nStarting benchmark...\n\n--- Benchmark Finished ---\nTotal Lookups Attempted: 1000000\nSuccessful Lookups:      858516\nIPs Not Found:           141484\nLookup Errors:           0\nElapsed Time:            0.975155208 s\nLookups Per Second (avg):1025477.7821993645\n```\n\n</details>\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/823099?u=ee49298bc428c65e9b447fd48ad6ed919e0b43b2&v=4",
  "releases": [
    {
      "tag_name": "v0.3.0",
      "name": "v0.3.0",
      "body": "## What's Changed\r\n\r\n* Fields filtering to speed up decoding https://github.com/marselester/maxminddb.zig/pull/8\r\n* Refactor `lookup()` and `within()` https://github.com/marselester/maxminddb.zig/pull/9\r\n* `within()` iterator caches records https://github.com/marselester/maxminddb.zig/pull/10\r\n* Decode any record (schemaless) https://github.com/marselester/maxminddb.zig/pull/12\r\n\r\n**Full Changelog**: https://github.com/marselester/maxminddb.zig/compare/v0.1.0...v0.3.0",
      "prerelease": false,
      "published_at": "2026-02-27T22:50:09Z",
      "html_url": "https://github.com/marselester/maxminddb.zig/releases/tag/v0.3.0",
      "assets": []
    },
    {
      "tag_name": "v0.2.0",
      "name": "v0.2.0",
      "body": "## Changelog\r\n\r\n- `Network.parse` was added to parse CIDR\r\n- `Fields` filtering was added to speed up decoding. Note, `lookup` and `within` now expect `Options` struct.\r\n\r\n```zig\r\nconst fields = maxminddb.Fields.from(maxminddb.geolite2.City, &.{ \"city\", \"country\" });\r\nconst city = try db.lookup(allocator, maxminddb.geolite2.City, &ip, .{ .only = fields });\r\n```",
      "prerelease": false,
      "published_at": "2026-02-20T01:14:20Z",
      "html_url": "https://github.com/marselester/maxminddb.zig/releases/tag/v0.2.0",
      "assets": []
    },
    {
      "tag_name": "v0.1.0",
      "name": "Basic features",
      "body": "This release provides:\r\n\r\n- basic features found in Go/Rust libraries such as lookup by IP and network traversal\r\n- safety checks seen in Go/Rust libraries\r\n- compliance with the MaxMind DB spec, e.g., the requirement for struct fields to match database field order requirement was removed from the library",
      "prerelease": false,
      "published_at": "2026-02-19T16:19:36Z",
      "html_url": "https://github.com/marselester/maxminddb.zig/releases/tag/v0.1.0",
      "assets": []
    }
  ],
  "owner_bio": "Curious to learn more about systems performance.",
  "owner_company": null,
  "owner_location": null,
  "owner_blog": "marselester.com",
  "owner_twitter_username": null,
  "owner_followers": 62,
  "owner_following": 0,
  "owner_created_at": "2011-06-01T13:26:45Z",
  "license": "ISC",
  "category": "library"
}