{
  "name": "zig-tracer",
  "owner": "nektro",
  "repo": "zig-tracer",
  "description": "Generic tracing library for Zig, supports multiple backends.",
  "type": "project",
  "topics": [
    "zig",
    "zig-package"
  ],
  "stars": 22,
  "forks": 9,
  "watchers": 1,
  "updated_at": "2025-09-04T20:13:35Z",
  "readme": "# zig-tracer\n\n![loc](https://sloc.xyz/github/nektro/zig-tracer)\n[![license](https://img.shields.io/github/license/nektro/zig-tracer.svg)](https://github.com/nektro/zig-tracer/blob/master/LICENSE)\n[![nektro @ github sponsors](https://img.shields.io/badge/sponsors-nektro-purple?logo=github)](https://github.com/sponsors/nektro)\n[![Zig](https://img.shields.io/badge/Zig-0.14-f7a41d)](https://ziglang.org/)\n[![Zigmod](https://img.shields.io/badge/Zigmod-latest-f7a41d)](https://github.com/nektro/zigmod)\n\nGeneric tracing library for Zig, supports multiple backends.\n\n## Usage\n\nin your program:\n\n```zig\nconst std = @import(\"std\");\nconst tracer = @import(\"tracer\");\npub const build_options = @import(\"build_options\");\n\npub const tracer_impl = tracer.spall; // see 'Backends' section below\n\npub fn main() !void {\n    try tracer.init();\n    defer tracer.deinit();\n\n    // main loop\n    while (true) {\n        try tracer.init_thread();\n        defer tracer.deinit_thread();\n\n        handler();\n    }\n}\n\nfn handler() void {\n    const t = tracer.trace(@src());\n    defer t.end();\n}\n```\n\n`@src()` values are sometimes absolute paths so backends may use this value to trim it to only log relative paths\n\n```zig\nexe_options.addOption(usize, \"src_file_trimlen\", std.fs.path.dirname(std.fs.path.dirname(@src().file).?).?.len);\n```\n\n## Backends\n\n- `none` this is the default and causes tracing calls to become a no-op so that `tracer` can be added to libraries transparently\n- `log` uses `std.log` to print on function entrance.\n- `chrome` writes a json file in the `chrome://tracing` format described [here](https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/preview) and [here](https://www.chromium.org/developers/how-tos/trace-event-profiling-tool/).\n- `spall` writes a binary file compatible with the [Spall](https://gravitymoth.com/spall/) profiler.\n- more? feel free to open an issue with requests!\n\nAny custom backend may also be used that defines the following functions:\n\n- `pub fn init() !void`\n- `pub fn deinit() void`\n- `pub fn init_thread(dir: std.fs.Dir) !void`\n- `pub fn deinit_thread() void`\n- `pub inline fn trace_begin(ctx: tracer.Ctx, comptime ifmt: []const u8, iargs: anytype) void`\n- `pub inline fn trace_end(ctx: tracer.Ctx) void`\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/5464072?u=a84ae9f68c3b0567fe276def3ab932d2f2f6703f&v=4",
  "releases": [],
  "owner_bio": "29. Local trans witch who prefers to do her magic with a keyboard. she/her.",
  "owner_company": null,
  "owner_location": "San Francisco, CA, USA",
  "owner_blog": "https://mlog.nektro.net/",
  "owner_twitter_username": "nektro",
  "owner_followers": 576,
  "owner_following": 254,
  "owner_created_at": "2013-09-15T16:41:53Z",
  "license": "MIT",
  "category": "library"
}