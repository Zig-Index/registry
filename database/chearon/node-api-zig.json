{
  "name": "node-api-zig",
  "owner": "chearon",
  "repo": "node-api-zig",
  "description": "zig build instead of node-gyp",
  "type": "package",
  "topics": [
    "n-api",
    "node-addon-api",
    "node-gyp",
    "zig-package"
  ],
  "stars": 1,
  "forks": 0,
  "watchers": 0,
  "updated_at": "2025-09-02T21:38:22Z",
  "dependencies": [
    {
      "name": "node_api_headers",
      "url": "https://github.com/nodejs/node-api-headers/archive/refs/tags/v1.5.0.tar.gz",
      "hash": "N-V-__8AAASNAQA0UI0mvQk4LyFEhdFuFBPgH8HSokdFFpnz"
    },
    {
      "name": "node_addon_api",
      "url": "https://github.com/nodejs/node-addon-api/archive/refs/tags/v8.4.0.tar.gz",
      "hash": "N-V-__8AAB0dFQBL0NSpsyPolKPJGjyCmfSTQ7Km5wrRQpb7"
    }
  ],
  "readme": "# node-api-zig\n\nEasily cross-compile a native nodejs C++ addon using Zig's build system. This exposes both the low-level [N-API](https://nodejs.org/api/n-api.html) and [node-addon-api](https://github.com/nodejs/node-addon-api).\n\nOn Unixes, building an addon is as simple as including the headers and telling the linker to leave those symbols undefined. On Windows, an import library has to be generated from the .def files included with the [N-API headers](https://github.com/nodejs/node-api-headers). This project hides almost all of that complexity behind `lib.addObject(node_api)`, where `node_api` is this dependency's artifact, and `lib` is your library.\n\nSee the `example` directory for a full working example.\n\n```zig\nconst std = @import(\"std\");\n\npub fn build(b: *std.Build) void {\n  const target = b.standardTargetOptions(.{});\n  const optimize = b.standardOptimizeOption(.{});\n  const node_api = b.dependency(\"node_api\", .{\n    .target = target,\n    .optimize = optimize,\n  }).artifact(\"node_api\");\n\n  const lib = b.addLibrary(.{\n    .name = \"example_callbacks\",\n    .linkage = .dynamic,\n    .root_module = b.createModule(.{\n      .target = target,\n      .optimize = optimize,\n    })\n  });\n\n  // this tells the Unixes to allow napi_ functions to be unresolved\n  lib.linker_allow_shlib_undefined = true;\n\n  // add your sources/flags here\n  lib.addCSourceFiles(.{\n    .files = &.{\"addon.cc\"},\n    .flags = &.{}\n  });\n\n  // makes node-addon-api (C++) and n-api (C) headers available\n  // on Windows, this links to import libraries\n  // on Unixes, it links to an empty object file\n  lib.addObject(node_api);\n\n  lib.linkLibCpp();\n\n  // name/move the addon to a place addon.js loads it from\n  const move = b.addInstallFile(lib.getEmittedBin(), \"../addon.node\");\n  move.step.dependOn(&lib.step);\n  b.getInstallStep().dependOn(&move.step);\n}\n```\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/78187?u=3e167856daed145ab31bbb5b9c68051e5aee5eed&v=4",
  "releases": [],
  "owner_bio": "Currently interested in text and layout",
  "owner_company": "@CellEngine",
  "owner_location": "Columbus, OH",
  "owner_blog": "http://www.chearon.net/blog/",
  "owner_twitter_username": null,
  "owner_followers": 92,
  "owner_following": 38,
  "owner_created_at": "2009-04-27T03:51:02Z",
  "category": "library"
}