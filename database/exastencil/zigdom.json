{
  "name": "zigdom",
  "owner": "exastencil",
  "repo": "zigdom",
  "description": "Simple library for constructing DOM elements in Zig and rendering to strings",
  "type": "package",
  "topics": [
    "dom",
    "zig",
    "zig-library",
    "zig-package",
    "templating",
    "template-engine"
  ],
  "stars": 3,
  "forks": 0,
  "watchers": 0,
  "updated_at": "2026-02-19T07:22:14Z",
  "minimum_zig_version": "0.15.0",
  "readme": "# ZigDOM\n\nA Zig library for constructing DOM trees as pure values (no internal\nallocations) and rendering them to a writer or to a string.\n\nBuild type-safe, reusable HTML components using functions and\nenums ‚Äî no template files.\n\n## Features\n\n- üîß No template files ‚Äî Build HTML programmatically with full type safety\n- üõ°Ô∏è Automatic HTML escaping ‚Äî Text content is escaped to prevent XSS\n- üå≥ Recursive rendering ‚Äî Nested components render seamlessly\n- üì¶ Memory efficient ‚Äî Direct-to-writer rendering avoids intermediate strings\n- üéØ Simple, value-based API ‚Äî Nodes are plain structs, constructed from slices\n\n## Installation\n\nAdd ZigDOM to your `build.zig.zon` dependencies (using Zig's package manager):\n\n```zig\n.dependencies = .{\n    .zigdom = .{\n        // Use `zig fetch --save https://github.com/exastencil/zigdom/archive/refs/heads/main.tar.gz`\n        // then copy the generated .hash here\n        .url = \"https://github.com/exastencil/zigdom/archive/refs/heads/main.tar.gz\",\n        .hash = \"...\",\n    },\n};\n```\n\nThen in your `build.zig`:\n\n```zig\nconst zigdom_dep = b.dependency(\"zigdom\", .{ .target = target, .optimize = optimize });\nexe.root_module.addImport(\"zigdom\", zigdom_dep.module(\"zigdom\"));\n```\n\nMinimum Zig version: see `build.zig.zon` (currently 0.15.0).\n\n## Usage\n\n### Basic example (value-based API)\n\n```zig\nconst std = @import(\"std\");\nconst zigdom = @import(\"zigdom\");\nconst dom = zigdom.dom;\nconst tags = zigdom.tags;\n\nconst attr = dom.attr;\nconst text = dom.text;\n\npub fn main() !void {\n    var gpa = std.heap.GeneralPurposeAllocator(.{}){};\n    defer _ = gpa.deinit();\n    const allocator = gpa.allocator();\n\n    // Build a simple HTML structure as pure values\n    const page = tags.div(&.{ attr(\"class\", \"container\") }, &.{\n        tags.p(&.{}, &.{ text(\"Hello, World!\") }),\n    });\n\n    // Render to stdout (no allocation in ZigDOM)\n    const stdout = std.io.getStdOut().writer();\n    try page.render(stdout);\n    try stdout.writeAll(\"\\n\");\n\n    // Or render to a string (allocates; you free it)\n    const html = try page.renderToString(allocator);\n    defer allocator.free(html);\n}\n```\n\n### Node types\n\nZigDOM supports the following node types via `dom.Tag`:\n\n- Elements (e.g. div, p, img, svg, ...)\n- Text\n- Document (root container)\n- Fragment (invisible container)\n- Custom elements (by tag name)\n\nNote: There is currently no separate Comment node.\n\n### Creating nodes\n\nUse helpers from `dom` and `tags`:\n\n```zig\nconst dom = zigdom.dom;\nconst tags = zigdom.tags;\nconst attr = dom.attr;\nconst text = dom.text;\n\n// Element via tag enum\nconst el = dom.tag(.div, &.{ attr(\"class\", \"box\") }, &.{});\n\n// Nicer syntax via generated tag functions\nconst div = tags.div(&.{ attr(\"class\", \"box\") }, &.{});\n\n// Text node\nconst t = text(\"Hello!\");\n\n// Fragment\nconst frag = dom.tag(.fragment, &.{}, &.{ div, t });\n\n// Custom element\nconst custom = dom.custom(\"my-widget\", &.{ attr(\"data-id\", \"123\") }, &.{ text(\"Content\") });\n```\n\n### Working with elements (immutably)\n\nNodes are plain values you construct with attributes and children slices:\n\n```zig\nconst card = tags.div(\n    &.{ attr(\"class\", \"card\") },\n    &.{\n        tags.h2(&.{}, &.{ text(\"Title\") }),\n        tags.p(&.{}, &.{ text(\"Body text\") }),\n    },\n);\n```\n\nVoid elements (like img, br, hr, ...) are handled automatically; they render without a closing tag. There is no `self_closing` flag to set.\n\n### Rendering\n\n```zig\n// Render to any writer (no allocation inside ZigDOM)\ntry node.render(writer);\n\n// Render to a string (allocates; you must free)\nconst html = try node.renderToString(allocator);\ndefer allocator.free(html);\n```\n\n## Memory management and lifetimes\n\n- Construction:\n  - Nodes are pure values; creating nodes does not allocate.\n  - Attributes (`dom.Attribute`) and children are provided as slices you own.\n  - Text nodes keep a slice of your provided bytes.\n- Lifetimes:\n  - Any slices you pass (attribute names/values, text content, custom tag names, children arrays) must remain valid until rendering is complete.\n  - String literals are fine. If you build strings dynamically, keep their backing memory alive until after `render`/`renderToString` finishes.\n- Rendering:\n  - `render(writer)` does not allocate within ZigDOM.\n  - `renderToString(allocator)` allocates a buffer and returns an owned slice that you must free with the same allocator.\n- Destruction:\n  - There is no `deinit` for `Node`; simply let values go out of scope. Only free what you allocated (e.g. strings you created and the result of `renderToString`).\n\n## Building components\n\nYou can create reusable component functions that return `dom.Node` values:\n\n```zig\nconst std = @import(\"std\");\nconst zigdom = @import(\"zigdom\");\nconst dom = zigdom.dom;\nconst tags = zigdom.tags;\nconst attr = dom.attr;\nconst text = dom.text;\nconst Node = dom.Node;\n\nfn Card(title: []const u8, content: []const u8) Node {\n    return tags.div(&.{ attr(\"class\", \"card\") }, &.{\n        tags.h2(&.{}, &.{ text(title) }),\n        tags.p(&.{}, &.{ text(content) }),\n    });\n}\n```\n\n## Running tests\n\n```bash\nzig build test\n```\n\n## Running the example\n\n```bash\nzig build run\n```\n\n## License\n\n[![Hippocratic License HL3-ECO-FFD](https://img.shields.io/static/v1?label=Hippocratic%20License&message=HL3-ECO-FFD&labelColor=5e2751&color=bc8c3d)](https://firstdonoharm.dev/version/3/0/eco-ffd.html)\n\n## Contributing\n\nContributions are welcome! Please feel free to submit a Pull Request.\n",
  "owner_avatar_url": "https://avatars.githubusercontent.com/u/51741145?u=1e59978469d3b8e2b6b5514818d39ca14bcf4bbe&v=4",
  "releases": [],
  "owner_company": "@leaply",
  "owner_location": "Cape Town, South Africa",
  "owner_blog": null,
  "owner_twitter_username": "exastencil",
  "owner_followers": 2,
  "owner_following": 4,
  "owner_created_at": "2019-06-12T08:46:23Z",
  "category": "library"
}